'use strict';

exports.__esModule = true;
exports.default = getCallsite;

var _callsiteRecord = require('callsite-record');

var _callsiteRecord2 = _interopRequireDefault(_callsiteRecord);

var _stackCleaningHook = require('./stack-cleaning-hook');

var _stackCleaningHook2 = _interopRequireDefault(_stackCleaningHook);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var STACK_TRACE_LIMIT = 2000;

function getCallsite(methodName, typeName) {
    var originalStackCleaningEnabled = _stackCleaningHook2.default.enabled;
    var originalStackTraceLimit = Error.stackTraceLimit;

    _stackCleaningHook2.default.enabled = false;
    Error.stackTraceLimit = STACK_TRACE_LIMIT;

    var callsiteRecord = (0, _callsiteRecord2.default)(methodName, typeName);

    Error.stackTraceLimit = originalStackTraceLimit;
    _stackCleaningHook2.default.enabled = originalStackCleaningEnabled;

    return callsiteRecord;
}
module.exports = exports['default'];