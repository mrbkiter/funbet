!function(){function t(e){var n=e.document;!function(t){"use strict";var e,n,i,s,a,o={".js":[],".json":[],".css":[],".html":[]},r="function"==typeof require?require:null;return s=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},a=function(t,e,n){var i,s;if("function"==typeof t[e+n])return e+n;for(i=0;s=o[n][i];++i)if("function"==typeof t[e+s])return e+s;return null},e=function(t,i,o,r,l,u){var d,c,h,f,p,m;for(o=o.split(/[\\/]/),d=o.pop(),"."!==d&&".."!==d||(o.push(d),d="");null!=(c=o.shift());)if(c&&"."!==c&&(".."===c?(t=i.pop(),u=u.slice(0,u.lastIndexOf("/"))):(i.push(t),t=t[c],u+="/"+c),!t))throw s(r);if(d&&"function"!=typeof t[d]&&(m=a(t,d,".js"),m||(m=a(t,d,".json")),m||(m=a(t,d,".css")),m||(m=a(t,d,".html")),m?d=m:2!==l&&"object"==typeof t[d]&&(i.push(t),t=t[d],u+="/"+d,d="")),!d)return 1!==l&&t[":mainpath:"]?e(t,i,t[":mainpath:"],r,1,u):e(t,i,"index",r,2,u);if(p=t[d],!p)throw s(r);return p.hasOwnProperty("module")?p.module.exports:(h={},p.module=f={exports:h,id:u+"/"+d},p.call(h,h,f,n(t,i,u)),f.exports)},i=function(n,i,a,o){var l,u=a,d=a.charAt(0),c=0;if("/"===d){if(u=u.slice(1),n=t["/"],!n){if(r)return r(a);throw s(a)}o="/",i=[]}else if("."!==d){if(l=u.split("/",1)[0],n=t[l],!n){if(r)return r(a);throw s(a)}o=l,i=[],u=u.slice(l.length+1),u||(u=n[":mainpath:"],u?c=1:(u="index",c=2))}return e(n,i,u,a,c,o)},(n=function(t,e,n){return function(s){return i(t,[].concat(e),s,n)}})(t,[],"")}({testcafe:{src:{client:{ui:{cursor:{"iframe-cursor.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=i("../deps/hammerhead"),o=s(a),r=i("../deps/testcafe-core"),l=i("./messages"),u=s(l),d=o["default"].utils.browser,c=d.isIE?1:0;t["default"]={move:function(t,n){var i={cmd:u["default"].moveRequest,x:t+c,y:n+c};return(0,r.sendRequestToFrame)(i,u["default"].moveResponse,e.parent)},leftButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:u["default"].leftButtonDownRequest},u["default"].leftButtonDownResponse,e.parent)},rightButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:u["default"].rightButtonDownRequest},u["default"].rightButtonDownResponse,e.parent)},buttonUp:function(){return(0,r.sendRequestToFrame)({cmd:u["default"].buttonUpRequest},u["default"].buttonUpResponse,e.parent)}},n.exports=t["default"]},"index.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=i("./../deps/hammerhead"),o=s(a),r=i("./../deps/testcafe-core"),l=s(r),u=i("./messages"),d=s(u),c=o["default"].Promise,h=o["default"].shadowUI,f=o["default"].utils.browser,p=o["default"].eventSandbox.message,m=l["default"].styleUtils,g=l["default"].positionUtils,v="cursor",_="touch",y="l-mouse-down",E="r-mouse-down",w=[y,E].join(" ");p.on(p.SERVICE_MSG_RECEIVED_EVENT,function(t){var e=t.message;switch(e.cmd){case d["default"].moveRequest:var n=g.getIframePointRelativeToParentFrame({x:e.x,y:e.y},t.source);C.move(n.x,n.y).then(function(){return p.sendServiceMsg({cmd:d["default"].moveResponse},t.source)});break;case d["default"].leftButtonDownRequest:C.leftButtonDown().then(function(){return p.sendServiceMsg({cmd:d["default"].leftButtonDownResponse},t.source)});break;case d["default"].rightButtonDownRequest:C.rightButtonDown().then(function(){return p.sendServiceMsg({cmd:d["default"].rightButtonDownResponse},t.source)});break;case d["default"].buttonUpRequest:C.buttonUp().then(function(){return p.sendServiceMsg({cmd:d["default"].buttonUpResponse},t.source)})}});var C={cursorElement:null,x:50,y:50,pointerOffsetX:0,pointerOffsetY:0,_createElement:function(){this.cursorElement=n.createElement("div"),h.addClass(this.cursorElement,v),f.isTouchDevice&&!f.isIE&&(h.addClass(this.cursorElement,_),this.pointerOffsetX=Math.ceil(m.getWidth(this.cursorElement)/2),this.pointerOffsetY=Math.ceil(m.getHeight(this.cursorElement)/2)),h.getRoot().appendChild(this.cursorElement)},isVisible:function(){return this.cursorElement&&"hidden"!==m.get(this.cursorElement,"visibility")},hide:function(){this.cursorElement||this._createElement(),m.set(this.cursorElement,"visibility","hidden")},show:function(){this.cursorElement||this._createElement(),m.set(this.cursorElement,"visibility","")},move:function(t,e){return this.x=t,this.y=e,this.cursorElement||this._createElement(),m.set(this.cursorElement,{left:this.x-this.pointerOffsetX+"px",top:this.y-this.pointerOffsetY+"px"}),c.resolve()},leftButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,w),h.addClass(this.cursorElement,y),c.resolve()},rightButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,w),h.addClass(this.cursorElement,E),c.resolve()},buttonUp:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,w),c.resolve()}};t["default"]=C,e.exports=t["default"]},"messages.js":function(t,e,n){t.__esModule=!0,t["default"]={moveRequest:"ui|cursor|move|request",leftButtonDownRequest:"ui|cursor|leftbuttondown|request",rightButtonDownRequest:"ui|cursor|rightbuttondown|request",buttonUpRequest:"ui|cursor|buttonup|request",moveResponse:"ui|cursor|move|response",leftButtonDownResponse:"ui|cursor|leftbuttondown|response",rightButtonDownResponse:"ui|cursor|rightbuttondown|response",buttonUpResponse:"ui|cursor|buttonup|response"},e.exports=t["default"]}},deps:{"hammerhead.js":function(t,n,i){t.__esModule=!0,t["default"]=e["%hammerhead%"],n.exports=t["default"]},"testcafe-core.js":function(t,n,i){t.__esModule=!0,t["default"]=e["%testCafeCore%"],n.exports=t["default"]}},"index.js":function(n,i,s){function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}var r=s("./deps/hammerhead"),l=o(r),u=s("./deps/testcafe-core"),d=o(u),c=s("./select-element"),h=a(c),f=s("./modal-background"),p=a(f),m=s("./progress-panel"),g=o(m),v=s("./status-bar"),_=o(v),y=s("./status-bar/iframe-status-bar"),E=o(y),w=s("./cursor"),C=o(w),x=s("./cursor/iframe-cursor"),b=a(x),I=l["default"].Promise,T=l["default"].eventSandbox.message,S=d["default"].sendRequestToFrame,B="ui|hide|request",M="ui|hide|response",D="ui|show|request",V="ui|show|response";T.on(T.SERVICE_MSG_RECEIVED_EVENT,function(t){t.message.cmd===B?(l["default"].shadowUI.getRoot().style.visibility="hidden",T.sendServiceMsg({cmd:M},t.source)):t.message.cmd===D&&(l["default"].shadowUI.getRoot().style.visibility="",T.sendServiceMsg({cmd:V},t.source))}),n.cursorUI=C["default"],n.iframeCursorUI=b,n.selectElement=h,n.modalBackground=p,n.ProgressPanel=g["default"],n.StatusBar=_["default"],n.IframeStatusBar=E["default"],n.get=s,n.hide=function(t){return t?S({cmd:B},M,e.top):(l["default"].shadowUI.getRoot().style.visibility="hidden",I.resolve())},n.show=function(t){return t?S({cmd:D},V,e.top):(l["default"].shadowUI.getRoot().style.visibility="",I.resolve())},Object.defineProperty(e,"%testCafeUI%",{enumerable:!1,configurable:!1,writable:!1,value:n}),l["default"].on(l["default"].EVENTS.evalIframeScript,function(e){return t(e.iframe.contentWindow,!0)})},"modal-background.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=y.getRoot();M=n.createElement("div"),t.appendChild(M),y.addClass(M,b),D=n.createElement("div"),D.textContent=x,t.appendChild(D),y.addClass(D,I),V=n.createElement("div"),C.set(V,"visibility","hidden"),t.appendChild(V),y.addClass(V,B)}function r(){var t=C.getHeight(e),n=C.getWidth(e),i=!C.hasDimensions(D);i&&(C.set(D,"visibility","hidden"),C.set(D,"display","block")),C.set(D,{left:Math.max((n-C.getWidth(D))/2,0)+"px",top:Math.max((t-C.getHeight(D))/2,0)+"px"}),i&&(C.set(D,"display","none"),C.set(D,"visibility",""))}function l(){var t=function(){var t=C.getHeight(e),n=C.getWidth(e);C.set(M,"width",n+"px"),C.set(M,"height",t+"px"),C.set(V,{left:Math.round((n-C.getWidth(V))/2)+"px",top:Math.round((t-C.getHeight(V))/2)+"px"})};t(),w.bind(e,"resize",t)}function u(){o(),l(),r(),R=!0}function d(){var t=!1,i=function(){u(),C.set(M,"opacity",S),C.set(M,"display","block"),C.set(D,"display","block"),t=!0},s=function a(){t||(n.body?i():E.setTimeout.call(e,a,0))};s(),w.documentReady().then(function(){t||i()})}function c(t){R||u(),C.set(M,"opacity",t?0:T),C.set(M,"display","block")}function h(){R&&(C.set(D,"display","none"),C.set(M,"display","none"))}function f(){C.set(V,"visibility","visible")}function p(){C.set(V,"visibility","hidden")}t.__esModule=!0,t.initAndShowLoadingText=d,t.show=c,t.hide=h,t.showLoadingIcon=f,t.hideLoadingIcon=p;var m=s("./deps/hammerhead"),g=a(m),v=s("./deps/testcafe-core"),_=a(v),y=g["default"].shadowUI,E=g["default"].nativeMethods,w=_["default"].eventUtils,C=_["default"].styleUtils,x="Loading page...",b="modal-background",I="loading-text",T=.7,S=.8,B="loading-icon",M=null,D=null,V=null,R=!1},"progress-panel":{"index.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s("../deps/hammerhead"),l=a(r),u=s("../deps/testcafe-core"),d=a(u),c=s("./progress-bar"),h=a(c),f=l["default"].shadowUI,p=l["default"].nativeMethods,m=d["default"].eventUtils,g=d["default"].styleUtils,v="progress-panel",_="title",y="content",E=100,w=10,C=300,x=200,b=600,I=1e3,T=function(){function t(){var e=this;o(this,t),this.startTime=null,this.openingTimeout=null,this.updateInterval=null,this.animationInterval=null,this.panelDiv=n.createElement("div"),f.getRoot().appendChild(this.panelDiv),this.titleDiv=n.createElement("div"),this.panelDiv.appendChild(this.titleDiv),this.contentDiv=n.createElement("div"),this.panelDiv.appendChild(this.contentDiv),f.addClass(this.panelDiv,v),f.addClass(this.titleDiv,_),f.addClass(this.contentDiv,y),t._showAtWindowCenter(this.panelDiv),this.progressBar=new h["default"](this.contentDiv),this.disposePanel=function(){return t._showAtWindowCenter(e.panelDiv)}}return t._getInvisibleElementProperty=function(t,e){var n="none"===g.get(t,"display");n&&g.set(t,"display","block");var i=t[e];return n&&g.set(t,"display","none"),i},t._showAtWindowCenter=function(n){var i=t._getInvisibleElementProperty(n,"offsetHeight"),s=t._getInvisibleElementProperty(n,"offsetWidth"),a=Math.round(g.getHeight(e)/2-i/2),o=Math.round(g.getWidth(e)/2-s/2);g.set(n,{left:o+"px",top:a+"px"})},t.prototype._setCurrentProgress=function(){var t=Math.round((Date.now()-this.startTime)/this.maxTimeout*100);this.progressBar.setValue(t)},t.prototype._setSuccess=function(t){this.progressBar.setSuccess(t)},t.prototype._stopAnimation=function(){p.clearInterval.call(e,this.animationInterval)},t.prototype._animate=function(t,n,i,s){var a=this,o=Date.now(),r=i?0:1,l=0,u=0,d=0;i&&(g.set(t,"opacity",r),g.set(t,"display","block")),this._stopAnimation(),this.animationInterval=p.setInterval.call(e,function(){l=Date.now()-o,u=Math.min(l/n,1),d=.5-Math.cos(u*Math.PI)/2,g.set(t,"opacity",r+(i?d:-d)),1===u&&(a._stopAnimation(),s&&s())},w)},t.prototype._showPanel=function(){m.bind(e,"resize",this.disposePanel),this._animate(this.panelDiv,x,!0)},t.prototype._hidePanel=function(t){var n=this;this.startTime=null,m.unbind(e,"resize",this.disposePanel),this._animate(this.panelDiv,t?0:b,!1,function(){return g.set(n.panelDiv,"display","none")})},t.prototype.show=function(t,n){var i=this;this.startTime=Date.now(),this.maxTimeout=n,this.titleDiv.textContent=t,this._setSuccess(!1),this.openingTimeout=p.setTimeout.call(e,function(){i.openingTimeout=null,i._setCurrentProgress(),i._showPanel(),i.updateInterval=p.setInterval.call(e,function(){return i._setCurrentProgress()},E)},C)},t.prototype.close=function(t){var n=this;t&&this._setSuccess(!0),this.openingTimeout&&(p.clearTimeout.call(e,this.openingTimeout),this.openingTimeout=null),this.updateInterval&&(p.clearInterval.call(e,this.updateInterval),this.updateInterval=null),t?this.startTime&&Date.now()-this.startTime<I?p.setTimeout.call(e,function(){p.setTimeout.call(e,function(){return n._hidePanel(!1)},x)},E):p.setTimeout.call(e,function(){return n._hidePanel(!1)},x):this._hidePanel(!0)},t}();t["default"]=T,i.exports=t["default"]},"progress-bar.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../deps/hammerhead"),r=s(o),l=i("../deps/testcafe-core"),u=s(l),d=r["default"].shadowUI,c=u["default"].styleUtils,h="progress-bar",f="value",p="success",m=function(){function t(e){a(this,t),this.containerElement=n.createElement("div"),this.valueElement=n.createElement("div"),e.appendChild(this.containerElement),this.containerElement.appendChild(this.valueElement),d.addClass(this.containerElement,h),d.addClass(this.valueElement,f)}return t.prototype.setValue=function(t){t="number"!=typeof t?0:Math.min(Math.max(t,0),100),c.set(this.valueElement,"width",t+"%")},t.prototype.setSuccess=function(t){t?d.addClass(this.containerElement,p):d.removeClass(this.containerElement,p)},t}();t["default"]=m,e.exports=t["default"]}},"select-element.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t){(t.target||t.srcElement)===O||B.containsElement(O,t.target)||B.containsElement(F,t.target)||h()}function r(t,e){var n=O.selectedIndex,i=O.getElementsByTagName("option")[t],s=!e&&t!==n;s&&!b.isIE&&(O.selectedIndex=t),b.isFirefox||b.isIE||!s||T.change(O),(b.isFirefox||b.isIE)&&T.mousedown(b.isFirefox?i:O),b.isTouchDevice||T.mouseup(b.isFirefox?i:O),(b.isFirefox||b.isIE)&&s&&(b.isIE&&(O.selectedIndex=t),T.change(O)),b.isTouchDevice||T.click(b.isFirefox||b.isIE?i:O),e||h()}function l(t,e){var i=n.createElement("div"),s=t.disabled||"optgroup"===B.getTagName(t.parentElement)&&t.parentElement.disabled;i.textContent=t.text,e.appendChild(i),x.addClass(i,U),s&&(x.addClass(i,W),M.set(i,"color",M.get(t,"color"))),s&&b.isWebKit?D.bind(i,"click",function(){return!1}):D.bind(i,"click",function(){var t=V.indexOf(j,this);r(t,s)}),j.push(i)}function u(t,e){var i=n.createElement("div");i.textContent=t.label||" ",e.appendChild(i),x.addClass(i,A),i.disabled&&(x.addClass(i,W),M.set(i,"color",M.get(t,"color"))),d(t.children,i),q.push(i)}function d(t,e){for(var n=0;n<t.length;n++)B.isOptionElement(t[n])?l(t[n],e):"optgroup"===B.getTagName(t[n])&&u(t[n],e)}function c(t){var i=t.children;if(i.length){if(O){var s=t===O;if(h(),s)return}O=t,F=n.createElement("div"),x.getRoot().appendChild(F),x.addClass(F,R),d(i,F),I.setTimeout.call(e,function(){D.bind(n,"mousedown",o)},0),M.set(F,{position:"absolute",fontSize:M.get(O,"fontSize"),fontFamily:M.get(O,"fontFamily"),minWidth:M.getWidth(O)+"px",left:S.getOffsetPosition(O).left+"px",height:B.getSelectVisibleChildren(t).length>P?M.getOptionHeight(t)*P:""});var a=S.getOffsetPosition(O).top,r=M.getHeight(F),l=a+M.getHeight(O)+2;if(l+r>M.getScrollTop(e)+M.getHeight(e)){var u=a-3-r;u>=M.getScrollTop(e)&&(l=u)}M.set(F,"top",l+"px")}}function h(){B.remove(F),D.unbind(n,"mousedown",o),F=null,O=null,j=[],q=[]}function f(t){return t?t===O:!!O}function p(t){var e="optgroup"===B.getTagName(t),n=e?B.getOptionGroupIndex(O,t):B.getOptionIndex(O,t);return e?q[n]:j[n]}function m(t){var e=B.getSelectParent(t);if(e){var n=M.getSelectElementSize(e),i=M.getOptionHeight(e),s=0,a=Math.max(M.getScrollTop(e)/i,0),o=a+n-1,r=B.getChildVisibleIndex(e,t);r<a?(s=i*(a-r),M.setScrollTop(e,Math.max(M.getScrollTop(e)-s,0))):r>o&&(s=i*(r-o),M.setScrollTop(e,M.getScrollTop(e)+s))}}function g(t){var e=B.getSelectParent(t);if(!e)return{x:0,y:0};var n=M.getOptionHeight(e),i=S.getElementRectangle(t);return{x:Math.round(i.left+i.width/2),y:Math.round(i.top+n/2)}}function v(t,e){var n=M.getSelectElementSize(t),i=!M.hasDimensions(x.select("."+R)[0]);if(/down|up/.test(e)||!b.isIE&&(n<=1||b.isFirefox)&&(i||b.isFirefox)&&/left|right/.test(e)){for(var s=t.querySelectorAll("option"),a=[],o=0;o<s.length;o++){var r=s[o].parentElement;s[o].disabled||"optgroup"===B.getTagName(r)&&r.disabled||a.push(s[o])}var l=V.indexOf(a,s[t.selectedIndex]),u=l+(/down|right/.test(e)?1:-1);u>=0&&u<a.length&&(t.selectedIndex=V.indexOf(s,a[u]),T.change(t))}}function _(t){var e=B.getSelectParent(t);if(!e)return!0;var n=f(e),i=M.getSelectElementSize(e);return n||i>1}t.__esModule=!0,t.expandOptionList=c,t.collapseOptionList=h,t.isOptionListExpanded=f,t.getEmulatedChildElement=p,t.scrollOptionListByChild=m,t.getSelectChildCenter=g,t.switchOptionsByKeys=v,t.isOptionElementVisible=_;var y=s("./deps/hammerhead"),E=a(y),w=s("./deps/testcafe-core"),C=a(w),x=E["default"].shadowUI,b=E["default"].utils.browser,I=E["default"].nativeMethods,T=E["default"].eventSandbox.eventSimulator,S=C["default"].positionUtils,B=C["default"].domUtils,M=C["default"].styleUtils,D=C["default"].eventUtils,V=C["default"].arrayUtils,R="tcOptionList",A="tcOptionGroup",U="tcOption",W="disabled",P=b.isIE?30:20,O=null,F=null,q=[],j=[]},"status-bar":{"iframe-status-bar.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}t.__esModule=!0;var l=i("./../deps/hammerhead"),u=s(l),d=i("./../deps/testcafe-core"),c=s(d),h=i("./messages"),f=s(h),p=i("./index"),m=s(p),g=c["default"].sendRequestToFrame,v=u["default"].eventSandbox.message,_=function(t){function n(){return a(this,n),o(this,t.call(this))}return r(n,t),n.prototype.setWaitingStatus=function(t){v.sendServiceMsg({cmd:f["default"].startWaitingForElement,timeout:t},e.top)},n.prototype.resetWaitingStatus=function(t){var n={cmd:f["default"].stopWaitingForElementRequest,waitingSuccess:t};return g(n,f["default"].stopWaitingForElementResponse,e.top)},n}(m["default"]);t["default"]=_,n.exports=t["default"]},"index.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s("./../deps/hammerhead"),l=a(r),u=s("./../deps/testcafe-core"),d=a(u),c=s("./progress-bar"),h=a(c),f=s("./messages"),p=a(f),m=l["default"].Promise,g=l["default"].shadowUI,v=l["default"].nativeMethods,_=l["default"].eventSandbox.message,y=d["default"].styleUtils,E=d["default"].eventUtils,w=d["default"].domUtils,C="status-bar",x="container",b="icon",I="info-container",T="fixture-container",S="fixture",B="user-agent",M="status-container",D="status",V="only-icon",R="icon-status",A="waiting-element-failed",U="waiting-element-success",W="Loading Web Page...",P="Waiting for an element to appear...",O=670,F=380,q=300,j=500,L=10,k=function(){function t(e,n,i){o(this,t),this.userAgent=e,this.fixtureName=n,this.testName=i,this.statusBar=null,this.container=null,this.infoContainer=null,this.icon=null,this.fixtureContainer=null,this.statusDiv=null,this.progressBar=null,this.animationInterval=null,this.showingTimeout=null,this.created=!1,this.showing=!1,this.hidding=!1,this._createBeforeReady(),this._initChildListening()}return t.prototype._createFixtureArea=function(){this.infoContainer=n.createElement("div"),g.addClass(this.infoContainer,I),this.container.appendChild(this.infoContainer),this.icon=n.createElement("div"),g.addClass(this.icon,b),this.infoContainer.appendChild(this.icon),this.fixtureContainer=n.createElement("div"),g.addClass(this.fixtureContainer,T),this.infoContainer.appendChild(this.fixtureContainer);var t=n.createElement("div");t.textContent=this.fixtureName+" - "+this.testName,g.addClass(t,S),this.fixtureContainer.appendChild(t);var e=n.createElement("div");e.textContent=this.userAgent,g.addClass(e,B),this.fixtureContainer.appendChild(e)},t.prototype._createStatusArea=function(){var t=n.createElement("div");g.addClass(t,M),this.container.appendChild(t),this.statusDiv=n.createElement("div"),this.statusDiv.textContent=W,g.addClass(this.statusDiv,D),t.appendChild(this.statusDiv)},t.prototype._create=function(){this.statusBar=n.createElement("div"),this.container=n.createElement("div"),g.addClass(this.statusBar,C),g.addClass(this.container,x),this.statusBar.appendChild(this.container),this._createFixtureArea(),this._createStatusArea(),this.progressBar=new h["default"](this.statusBar),this.progressBar.indeterminateIndicator.start(),this.progressBar.show(),g.getRoot().appendChild(this.statusBar),this._recalculateSizes(),this._bindHandlers(),this.created=!0},t.prototype._createBeforeReady=function(){var t=this;this.created||e!==e.top||(n.body?this._create():v.setTimeout.call(e,function(){return t._createBeforeReady()},0))},t.prototype._setSizeStyle=function(t){t>O?(g.removeClass(this.statusBar,V),g.removeClass(this.statusBar,R)):t<O&&t>F?(g.removeClass(this.statusBar,V),g.addClass(this.statusBar,R)):t<F&&(g.removeClass(this.statusBar,R),g.addClass(this.statusBar,V))},t.prototype._setFixtureContainerWidth=function(){var t=y.getWidth(this.infoContainer),e=y.getWidth(this.icon),n=y.getElementMargin(this.icon),i=t-e-n.left-n.right-1;y.set(this.fixtureContainer,"width",i+"px")},t.prototype._setStatusDivLeftMargin=function(){if("none"!==y.get(this.statusDiv,"display")){var t=y.getWidth(this.infoContainer),e=y.getWidth(this.container),n=y.getWidth(this.statusDiv),i=Math.round(e/2-n/2-t);y.set(this.statusDiv,"marginLeft",Math.max(i,0)+"px")}},t.prototype._recalculateSizes=function(){var t=y.getWidth(e);y.set(this.statusBar,"width",t+"px"),this._setSizeStyle(t),this._setFixtureContainerWidth(),this._setStatusDivLeftMargin()},t.prototype._animate=function(t){var n=this,i=Date.now(),s=parseInt(y.get(this.statusBar,"opacity"),10)||0,a=0,o=0,r=0;this._stopAnimation(),this.animationInterval=v.setInterval.call(e,function(){a=Date.now()-i,o=Math.min(a/j,1),r=.5-Math.cos(o*Math.PI)/2,y.set(n.statusBar,"opacity",s+(t?r:-r)),1===o&&(n._stopAnimation(),n.showing=!1,n.hidding=!1)},L)},t.prototype._stopAnimation=function(){this.animationInterval&&(v.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},t.prototype._bindHandlers=function(){var t=this;E.bind(e,"resize",function(){return t._recalculateSizes()}),E.bind(this.statusBar,"mouseover",function(){t.hidding||(t.showing=!1,t.hidding=!0,t._animate())}),E.bind(this.statusBar,"mouseout",function(e){w.containsElement(t.statusBar,e.relatedTarget)||t.showing||(t.hidding=!1,t.showing=!0,t._animate(!0))})},t.prototype._initChildListening=function(){var t=this;_.on(_.SERVICE_MSG_RECEIVED_EVENT,function(e){var n=e.message;n.cmd===p["default"].startWaitingForElement?t.setWaitingStatus(n.timeout):n.cmd===p["default"].stopWaitingForElementRequest&&t.resetWaitingStatus(n.waitingSuccess).then(function(){return _.sendServiceMsg({cmd:p["default"].stopWaitingForElementResponse},e.source)})})},t.prototype._resetState=function(){this.statusDiv.textContent="",this.progressBar.hide()},t.prototype._showWaitingStatus=function(){this.statusDiv.textContent=P,this._setStatusDivLeftMargin(),this.progressBar.show()},t.prototype._hideWaitingStatus=function(t){var n=this;return new m(function(i){v.setTimeout.call(e,function(){g.removeClass(n.statusBar,U),g.removeClass(n.statusBar,A),n.progressBar.determinateIndicator.reset(),n._resetState(),i()},t?0:j)})},t.prototype.resetPageLoadingStatus=function(){this.created||this._create(),this.progressBar.indeterminateIndicator.stop(),this._resetState()},t.prototype.setWaitingStatus=function(t){var n=this;this.progressBar.determinateIndicator.start(t),this.showingTimeout=v.setTimeout.call(e,function(){n.showingTimeout=null,n._showWaitingStatus()},q)},t.prototype.resetWaitingStatus=function(t){this.progressBar.determinateIndicator.stop(),t?g.addClass(this.statusBar,U):g.addClass(this.statusBar,A);var n=this.showingTimeout&&t;return this.showingTimeout&&(v.clearTimeout.call(e,this.showingTimeout),this.showingTimeout=null,t||this._showWaitingStatus()),this._hideWaitingStatus(n)},t}();t["default"]=k,i.exports=t["default"]},"messages.js":function(t,e,n){t.__esModule=!0,t["default"]={startWaitingForElement:"start-waiting-for-element",stopWaitingForElementRequest:"stop-waiting-for-element-request",stopWaitingForElementResponse:"stop-waiting-for-element-response"},e.exports=t["default"]},"progress-bar":{"determinate-indicator.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../../deps/hammerhead"),r=s(o),l=i("../../deps/testcafe-core"),u=s(l),d=r["default"].shadowUI,c=r["default"].nativeMethods,h=u["default"].styleUtils,f="determinate",p=10,m=function(){function t(e,n){a(this,t),this.progressBar=e,this.firstValueElement=n,this.maxTimeout=null,this.startTime=null,this.animationInterval=null}return t.prototype._setCurrentProgress=function(){var t=(Date.now()-this.startTime)/this.maxTimeout,e=Math.min(Math.max(t,0),1),n=h.getWidth(this.progressBar),i=Math.round(n*e);h.set(this.firstValueElement,"width",i+"px")},t.prototype.start=function(t){var n=this;d.addClass(this.progressBar,f),this.maxTimeout=t,this.startTime=Date.now(),this._setCurrentProgress(),this.animationInterval=c.setInterval.call(e,function(){return n._setCurrentProgress()},p)},t.prototype.stop=function(){this.animationInterval&&(c.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},t.prototype.reset=function(){h.set(this.firstValueElement,"width",0),d.removeClass(this.progressBar,f)},t}();t["default"]=m,n.exports=t["default"]},"indeterminate-indicator.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return 3*Math.pow(1-t,2)*t*e+3*(1-t)*t*t*n+t*t*t}function r(t,e){var n=t<w.middle,i=n?w.start:w.middle,s=n?w.middle:w.end,a=e[i],o=e[s],r={x:i,y:a.left},l={x:s,y:o.left},u=m.getLineYByXCoord(r,l,t);r={x:i,y:a.right},l={x:s,y:o.right};var d=m.getLineYByXCoord(r,l,t);return{left:u,right:d}}t.__esModule=!0;var l=i("../../deps/hammerhead"),u=s(l),d=i("../../deps/testcafe-core"),c=s(d),h=u["default"].shadowUI,f=u["default"].nativeMethods,p=c["default"].styleUtils,m=c["default"].positionUtils,g={time:2800,points:[.815,.395],positionByCompletePercent:{0:{left:-35,right:100},.6:{left:100,right:-90},1:{left:100,right:-90}}},v={time:3e3,points:[.84,1],positionByCompletePercent:{0:{left:-200,right:100},.6:{left:107,right:-8},1:{left:107,right:-8}}},_=1e3,y=10,E=1950,w={start:0,middle:.6,end:1},C="indeterminate",x=function(){function t(e,n,i){a(this,t),this.progressBar=e,this.firstValue=n,this.secondValue=i,this.animationInterval=null,this.secondValueAnimationInterval=null,this.secondValueAnimationTimeout=null,this.restartAnimationTimeout=null}return t._updateValueAnimation=function(t,e,n){var i=n.time,s=n.points,a=n.positionByCompletePercent,l=Date.now()-t,u=l/i,d=o(u,s[0],s[1]),c=r(d,a),h=c.left,f=c.right;p.set(e,"left",Math.round(h)+"%"),p.set(e,"right",Math.round(f)+"%")},t.prototype._clearFirstValueAnimation=function(){this.animationInterval&&(f.clearInterval.call(e,this.animationInterval),this.animationInterval=null),p.set(this.firstValue,"left","-35%"),p.set(this.firstValue,"right","100%")},t.prototype._clearSecondValueAnimation=function(){this.secondValueAnimationInterval&&(f.clearInterval.call(e,this.secondValueAnimationInterval),this.secondValueAnimationInterval=null),p.set(this.secondValue,"left","-200%"),p.set(this.secondValue,"right","100%")},t.prototype._startFirstValueAnimation=function(){var n=this;this._clearFirstValueAnimation();var i=Date.now();this.animationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(i,n.firstValue,g)},y)},t.prototype._startSecondValueAnimation=function(){var n=this;this._clearSecondValueAnimation();var i=Date.now();this.secondValueAnimationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(i,n.secondValue,v)},y)},t.prototype._startAnimation=function(){var t=this;this._startFirstValueAnimation(),this.secondValueAnimationTimeout=f.setTimeout.call(e,function(){return t._startSecondValueAnimation()},_),this.restartAnimationTimeout=f.setTimeout.call(e,function(){return t._startAnimation()},E)},t.prototype._stopAnimation=function(){this._clearFirstValueAnimation(),this._clearSecondValueAnimation(),this.secondValueAnimationTimeout&&(f.clearInterval.call(e,this.secondValueAnimationTimeout),this.secondValueAnimationTimeout=null),this.restartAnimationTimeout&&(f.clearInterval.call(e,this.restartAnimationTimeout),this.restartAnimationTimeout=null)},t.prototype.start=function(){h.addClass(this.progressBar,C),this._startAnimation()},t.prototype.stop=function(){h.removeClass(this.progressBar,C),this._stopAnimation()},t}();t["default"]=x,n.exports=t["default"]},"index.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../../deps/hammerhead"),r=s(o),l=i("../../deps/testcafe-core"),u=s(l),d=i("./determinate-indicator"),c=s(d),h=i("./indeterminate-indicator"),f=s(h),p=r["default"].shadowUI,m=u["default"].styleUtils,g="progress-bar",v="value-container",_="value",y=function(){function t(e){a(this,t),this.progressBar=null,this.firstValueElement=null,this.secondValueElement=null,this._create(e),this.determinateIndicator=new c["default"](this.progressBar,this.firstValueElement),this.indeterminateIndicator=new f["default"](this.progressBar,this.firstValueElement,this.secondValueElement)}return t.prototype._create=function(t){this.progressBar=n.createElement("div"),p.addClass(this.progressBar,g),t.appendChild(this.progressBar);var e=n.createElement("div");p.addClass(e,v),this.progressBar.appendChild(e),this.firstValueElement=n.createElement("div"),p.addClass(this.firstValueElement,_),e.appendChild(this.firstValueElement),this.secondValueElement=n.createElement("div"),p.addClass(this.secondValueElement,_),e.appendChild(this.secondValueElement)},t.prototype.show=function(){m.set(this.progressBar,"visibility","visible")},t.prototype.hide=function(){m.set(this.progressBar,"visibility","hidden")},t}();t["default"]=y,e.exports=t["default"]}}}}}}}})("testcafe/src/client/ui/index")}t(window)}();