!function(){function initTestCafeClientDrivers(window,isIFrameWithoutSrc){var document=window.document;!function(e){"use strict";var t,r,n,o,i,a={".js":[],".json":[],".css":[],".html":[]},s="function"==typeof require?require:null;return o=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},i=function(e,t,r){var n,o;if("function"==typeof e[t+r])return t+r;for(n=0;o=a[r][n];++n)if("function"==typeof e[t+o])return t+o;return null},t=function(e,n,a,s,u,l){var c,d,f,h,p,m;for(a=a.split(/[\\/]/),c=a.pop(),"."!==c&&".."!==c||(a.push(c),c="");null!=(d=a.shift());)if(d&&"."!==d&&(".."===d?(e=n.pop(),l=l.slice(0,l.lastIndexOf("/"))):(n.push(e),e=e[d],l+="/"+d),!e))throw o(s);if(c&&"function"!=typeof e[c]&&(m=i(e,c,".js"),m||(m=i(e,c,".json")),m||(m=i(e,c,".css")),m||(m=i(e,c,".html")),m?c=m:2!==u&&"object"==typeof e[c]&&(n.push(e),e=e[c],l+="/"+c,c="")),!c)return 1!==u&&e[":mainpath:"]?t(e,n,e[":mainpath:"],s,1,l):t(e,n,"index",s,2,l);if(p=e[c],!p)throw o(s);return p.hasOwnProperty("module")?p.module.exports:(f={},p.module=h={exports:f,id:l+"/"+c},p.call(f,f,h,r(e,n,l)),h.exports)},n=function(r,n,i,a){var u,l=i,c=i.charAt(0),d=0;if("/"===c){if(l=l.slice(1),r=e["/"],!r){if(s)return s(i);throw o(i)}a="/",n=[]}else if("."!==c){if(u=l.split("/",1)[0],r=e[u],!r){if(s)return s(i);throw o(i)}a=u,n=[],l=l.slice(u.length+1),l||(l=r[":mainpath:"],l?d=1:(l="index",d=2))}return t(r,n,l,i,d,a)},(r=function(e,t,r){return function(o){return n(e,[].concat(t),o,r)}})(e,[],"")}({replicator:{":mainpath:":"index.js","index.js":function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="@t",i="@r",a=/^#*@(t|r)$/,s=function(){var e=eval;return e("this")}(),u="function"==typeof ArrayBuffer,l="function"==typeof Map,c="function"==typeof Set,d=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],f=Array.prototype.slice,h={serialize:function(e){return JSON.stringify(e)},deserialize:function(e){return JSON.parse(e)}},p=function(e,t){this.references=e,this.transforms=t,this.circularCandidates=[],this.circularCandidatesDescrs=[],this.circularRefCount=0};p._createRefMark=function(e){var t=Object.create(null);return t[i]=e,t},p.prototype._createCircularCandidate=function(e,t,r){this.circularCandidates.push(e),this.circularCandidatesDescrs.push({parent:t,key:r,refIdx:-1})},p.prototype._applyTransform=function(e,t,r,i){var a=Object.create(null),s=i.toSerializable(e);return"object"===("undefined"==typeof s?"undefined":n(s))&&this._createCircularCandidate(e,t,r),a[o]=i.type,a.data=this._handleValue(s,t,r),a},p.prototype._handleArray=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=this._handleValue(e[r],t,r);return t},p.prototype._handlePlainObject=function(e){var t=Object.create(null);for(var r in e)if(e.hasOwnProperty(r)){var n=a.test(r)?"#"+r:r;t[n]=this._handleValue(e[r],t,n)}return t},p.prototype._handleObject=function(e,t,r){return this._createCircularCandidate(e,t,r),Array.isArray(e)?this._handleArray(e):this._handlePlainObject(e)},p.prototype._ensureCircularReference=function(e){var t=this.circularCandidates.indexOf(e);if(t>-1){var r=this.circularCandidatesDescrs[t];return r.refIdx===-1&&(r.refIdx=r.parent?++this.circularRefCount:0),p._createRefMark(r.refIdx)}return null},p.prototype._handleValue=function(e,t,r){var o="undefined"==typeof e?"undefined":n(e),i="object"===o&&null!==e;if(i){var a=this._ensureCircularReference(e);if(a)return a}for(var s=0;s<this.transforms.length;s++){var u=this.transforms[s];if(u.shouldTransform(o,e))return this._applyTransform(e,t,r,u)}return i?this._handleObject(e,t,r):e},p.prototype.transform=function(){for(var e=[this._handleValue(this.references,null,null)],t=0;t<this.circularCandidatesDescrs.length;t++){var r=this.circularCandidatesDescrs[t];r.refIdx>0&&(e[r.refIdx]=r.parent[r.key],r.parent[r.key]=p._createRefMark(r.refIdx))}return e};var m=function(e,t){this.references=e,this.transformMap=t,this.activeTransformsStack=[],this.visitedRefs=Object.create(null)};m.prototype._handlePlainObject=function(e){var t=Object.create(null);for(var r in e)e.hasOwnProperty(r)&&(this._handleValue(e[r],e,r),a.test(r)&&(t[r.substring(1)]=e[r],delete e[r]));for(var n in t)e[n]=t[n]},m.prototype._handleTransformedObject=function(e,t,r){var n=e[o],i=this.transformMap[n];if(!i)throw new Error("Can't find transform for \""+n+'" type.');this.activeTransformsStack.push(e),this._handleValue(e.data,e,"data"),this.activeTransformsStack.pop(),t[r]=i.fromSerializable(e.data)},m.prototype._handleCircularSelfRefDuringTransform=function(e,t,r){var n=this.references;Object.defineProperty(t,r,{val:void 0,configurable:!0,enumerable:!0,get:function(){return void 0===this.val&&(this.val=n[e]),this.val},set:function(e){this.val=e}})},m.prototype._handleCircularRef=function(e,t,r){this.activeTransformsStack.indexOf(this.references[e])>-1?this._handleCircularSelfRefDuringTransform(e,t,r):(this.visitedRefs[e]||(this.visitedRefs[e]=!0,this._handleValue(this.references[e],this.references,e)),t[r]=this.references[e])},m.prototype._handleValue=function(e,t,r){if("object"===("undefined"==typeof e?"undefined":n(e))&&null!==e){var a=e[i];if(void 0!==a)this._handleCircularRef(a,t,r);else if(e[o])this._handleTransformedObject(e,t,r);else if(Array.isArray(e))for(var s=0;s<e.length;s++)this._handleValue(e[s],e,s);else this._handlePlainObject(e)}},m.prototype.transform=function(){return this.visitedRefs[0]=!0,this._handleValue(this.references[0],this.references,0),this.references[0]};var E=[{type:"[[NaN]]",shouldTransform:function(e,t){return"number"===e&&isNaN(t)},toSerializable:function(){return""},fromSerializable:function(){return NaN}},{type:"[[undefined]]",shouldTransform:function(e){return"undefined"===e},toSerializable:function(){return""},fromSerializable:function(){}},{type:"[[Date]]",shouldTransform:function(e,t){return t instanceof Date},toSerializable:function(e){return e.getTime()},fromSerializable:function(e){var t=new Date;return t.setTime(e),t}},{type:"[[RegExp]]",shouldTransform:function(e,t){return t instanceof RegExp},toSerializable:function(e){var t={src:e.source,flags:""};return e.global&&(t.flags+="g"),e.ignoreCase&&(t.flags+="i"),e.multiline&&(t.flags+="m"),t},fromSerializable:function(e){return new RegExp(e.src,e.flags)}},{type:"[[Error]]",shouldTransform:function(e,t){return t instanceof Error},toSerializable:function(e){return{name:e.name,message:e.message,stack:e.stack}},fromSerializable:function(e){var t=s[e.name]||Error,r=new t(e.message);return r.stack=e.stack,r}},{type:"[[ArrayBuffer]]",shouldTransform:function(e,t){return u&&t instanceof ArrayBuffer},toSerializable:function(e){var t=new Int8Array(e);return f.call(t)},fromSerializable:function(e){if(u){var t=new ArrayBuffer(e.length),r=new Int8Array(t);return r.set(e),t}return e}},{type:"[[TypedArray]]",shouldTransform:function(e,t){for(var r=0;r<d.length;r++){var n=d[r];if("function"==typeof s[n]&&t instanceof s[n])return!0}return!1},toSerializable:function(e){return{ctorName:e.constructor.name,arr:f.call(e)}},fromSerializable:function(e){return"function"==typeof s[e.ctorName]?new s[e.ctorName](e.arr):e.arr}},{type:"[[Map]]",shouldTransform:function(e,t){return l&&t instanceof Map},toSerializable:function(e){var t=[];return e.forEach(function(e,r){t.push(r),t.push(e)}),t},fromSerializable:function(e){if(l){for(var t=new Map,r=0;r<e.length;r+=2)t.set(e[r],e[r+1]);return t}for(var n=[],o=0;o<e.length;o+=2)n.push([e[r],e[r+1]]);return n}},{type:"[[Set]]",shouldTransform:function(e,t){return c&&t instanceof Set},toSerializable:function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},fromSerializable:function(e){if(c){for(var t=new Set,r=0;r<e.length;r++)t.add(e[r]);return t}return e}}],g=t.exports=function(e){this.transforms=[],this.transformsMap=Object.create(null),this.serializer=e||h,this.addTransforms(E)};g.prototype.addTransforms=function(e){e=Array.isArray(e)?e:[e];for(var t=0;t<e.length;t++){var r=e[t];if(this.transformsMap[r.type])throw new Error('Transform with type "'+r.type+'" was already added.');this.transforms.push(r),this.transformsMap[r.type]=r}return this},g.prototype.removeTransforms=function(e){e=Array.isArray(e)?e:[e];for(var t=0;t<e.length;t++){var r=e[t],n=this.transforms.indexOf(r);n>-1&&this.transforms.splice(n,1),delete this.transformsMap[r.type]}return this},g.prototype.encode=function(e){var t=new p(e,this.transforms),r=t.transform();return this.serializer.serialize(r)},g.prototype.decode=function(e){var t=this.serializer.deserialize(e),r=new m(t,this.transformsMap);return r.transform()}}},testcafe:{src:{client:{driver:{"command-executors":{"client-functions":{"client-function-executor.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r("../../deps/hammerhead"),a=r("../../status"),s=n(a),u=r("./replicator"),l=r("./eval-function"),c=n(l),d=r("../../../../errors/test-run"),f=function(){function e(t){o(this,e),this.command=t,this.replicator=this._createReplicator(),this.dependencies=this.replicator.decode(this.command.dependencies),this.fn=(0,c["default"])(this.command.fnCode,this.dependencies)}return e.prototype.getResult=function(){var e=this;return i.Promise.resolve().then(function(){var t=e.replicator.decode(e.command.args);return e._executeFn(t)})["catch"](function(t){throw t.isTestCafeError||(t=new d.UncaughtErrorInClientFunctionCode(e.command.instantiationCallsiteName,t)),t})},e.prototype.getResultDriverStatus=function(){var e=this;return this.getResult().then(function(t){return new s["default"]({isCommandResult:!0,result:e.replicator.encode(t)})})["catch"](function(e){return new s["default"]({isCommandResult:!0,executionError:e})})},e.prototype._createReplicator=function(){return(0,u.createReplicator)([new u.ClientFunctionNodeTransform(this.command.instantiationCallsiteName),new u.FunctionTransform])},e.prototype._executeFn=function(e){return this.fn.apply(window,e)},e}();e["default"]=f,t.exports=e["default"]},"eval-function.js":function(exports,module,require){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function evalFunction(fnCode,__dependencies$){"use strict";return eval(fnCode)}exports.__esModule=!0,exports["default"]=evalFunction;var _hammerhead=require("../../deps/hammerhead"),_hammerhead2=_interopRequireDefault(_hammerhead),Promise=_hammerhead2["default"].Promise;module.exports=exports["default"]},"replicator.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=new s["default"]({serialize:h,deserialize:h});return t.addTransforms(e)}e.__esModule=!0,e.ClientFunctionNodeTransform=e.SelectorNodeTransform=e.FunctionTransform=void 0,e.createReplicator=i;var a=r("replicator"),s=n(a),u=r("./eval-function"),l=n(u),c=r("./selector-executor/node-snapshots"),d=r("../../../../errors/test-run"),f=window.Node,h=function(e){return e};e.FunctionTransform=function(){function e(){o(this,e),this.type="Function"}return e.prototype.shouldTransform=function(e){return"function"===e},e.prototype.toSerializable=function(){return""},e.prototype.fromSerializable=function(e){var t=e.fnCode,r=e.dependencies;return(0,l["default"])(t,r)},e}(),e.SelectorNodeTransform=function(){function e(t){o(this,e),this.type="Node",this.customDOMProperties=t||{}}return e.prototype._extend=function(e,t){var r=this;Object.keys(this.customDOMProperties).forEach(function(n){try{e[n]=r.customDOMProperties[n](t)}catch(o){throw new d.UncaughtErrorInCustomDOMPropertyCode(r.instantiationCallsiteName,o,n)}})},e.prototype.shouldTransform=function(e,t){return t instanceof f},e.prototype.toSerializable=function(e){var t=1===e.nodeType?new c.ElementSnapshot(e):new c.NodeSnapshot(e);return this._extend(t,e),t},e}(),e.ClientFunctionNodeTransform=function(){function e(t){o(this,e),this.type="Node",this.instantiationCallsiteName=t}return e.prototype.shouldTransform=function(e,t){if(t instanceof f)throw new d.DomNodeClientFunctionResultError(this.instantiationCallsiteName)},e}()},"selector-executor":{"filter.js":function(e,t,r){function n(e){if(!d(e))return!1;for(var t=0;t<e.length;t++)if(!(e[t]instanceof f))return!1;return!0}function o(e,t){if(1===e.nodeType){var r=(0,c.getInnerText)(e);if(l.domUtils.isOptionElement(e)){var n=(0,c.getTextContent)(e);!r&&n&&(r=n)}return t.test(r)}if(9===e.nodeType){var o=e.querySelector("head"),a=e.querySelector("body");return i(o,t)||i(a,t)}return 11===e.nodeType?i(e,t):t.test((0,c.getTextContent)(e))}function i(e,t){for(var r=e.childNodes.length,n=0;n<r;n++)if(o(e.childNodes[n],t))return!0;return!1}function a(e,t){for(var r=e.length,n=[],i=0;i<r;i++)o(e[i],t)&&n.push(e[i]);return n}function s(e,t){return t<0?e[e.length+t]:e[t]}var u=r("../../../../../errors/test-run"),l=r("../../../deps/testcafe-core"),c=r("./sandboxed-node-properties"),d=Array.isArray,f=window.Node,h=window.HTMLCollection,p=window.NodeList;Object.defineProperty(window,"%testCafeSelectorFilter%",{value:function(e,t){var r=[];if(null===e||void 0===e)r=[];else if(e instanceof f)r=[e];else{if(!(e instanceof h||e instanceof p||n(e)))throw new u.InvalidSelectorResultError;r=e}if(t.text&&(r=a(r,t.text)),t.counterMode)return null!==t.index?s(r,t.index)?1:0:r.length;if(t.collectionMode){if(null!==t.index){var o=s(r,t.index);return o?[o]:[]}return r}return s(r,t.index||0)}})},"index.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return!!e}function u(e){return!(!c.domUtils.isDomElement(e)&&!c.domUtils.isTextNode(e))&&(c.domUtils.isOptionElement(e)||"optgroup"===c.domUtils.getTagName(e)?d.selectElement.isOptionElementVisible(e):c.positionUtils.isElementVisible(e))}e.__esModule=!0;var l=r("../../../deps/hammerhead"),c=r("../../../deps/testcafe-core"),d=r("../../../deps/testcafe-ui"),f=r("../client-function-executor"),h=n(f),p=r("../replicator");r("./filter");var m=200,E=function(e){function t(r,n,a,s,u,l){o(this,t);var c=i(this,e.call(this,r));if(c.createNotFoundError=u,c.createIsInvisibleError=l,c.timeout="number"==typeof r.timeout?r.timeout:n,c.statusBar=s,c.counterMode=c.dependencies.filterOptions.counterMode,a){var d=new Date-a;c.timeout=Math.max(c.timeout-d,0)}var f=c.dependencies&&c.dependencies.customDOMProperties;return c.replicator.addTransforms([new p.SelectorNodeTransform(f)]),c}return a(t,e),t.prototype._createReplicator=function(){return(0,p.createReplicator)([new p.FunctionTransform])},t.prototype._checkElement=function(e,t,r,n,o){if(r(e))return e;var i=new Date-t>=this.timeout;if(i){if(n)throw n();return null}return(0,c.delay)(m).then(o)},t.prototype._ensureExists=function(e,t){var r=this,n=function(){return r._ensureExists(e,t)};return l.Promise.resolve().then(function(){return r.fn.apply(window,e)}).then(function(e){return r._checkElement(e,t,s,r.createNotFoundError,n)})},t.prototype._ensureVisible=function(e,t){var r=this,n=function(){return r._ensureVisible(e,t)};return this._checkElement(e,t,u,this.createIsInvisibleError,n)},t.prototype._executeFn=function(t){var r=this;if(this.counterMode)return e.prototype._executeFn.call(this,t);var n=new Date,o=null,i=null;return this.statusBar.setWaitingStatus(this.timeout),this._ensureExists(t,n).then(function(e){return e&&r.command.visibilityCheck?r._ensureVisible(e,n):e})["catch"](function(e){return o=e,r.statusBar.resetWaitingStatus(!1)}).then(function(e){if(o)throw o;return i=e,r.statusBar.resetWaitingStatus(!!e)}).then(function(){return i})},t}(h["default"]);e["default"]=E,t.exports=e["default"]},"node-snapshots.js":function(e,t,r){function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.ElementSnapshot=e.NodeSnapshot=void 0;var a=r("../../../deps/testcafe-core"),s=r("../../../../../client-functions/selector-builder/snapshot-properties"),u=r("./sandboxed-node-properties"),l={textContent:u.getTextContent,childNodeCount:function(e){return(0,u.getChildNodes)(e).length},hasChildNodes:function(e){return!!l.childNodeCount(e)},childElementCount:function f(e){var t=(0,u.getChildren)(e);if(t)return t.length;for(var f=0,r=e.childNodes.length,n=0;n<r;n++)1===e.childNodes[n].nodeType&&f++;return f},hasChildElements:function(e){return!!l.childElementCount(e)}},c=e.NodeSnapshot=function(){function e(t){i(this,e),this._initializeProperties(t,s.NODE_SNAPSHOT_PROPERTIES,l)}return e.prototype._initializeProperties=function(e,t,r){for(var n=0;n<t.length;n++){var o=t[n],i=r[o];this[o]=i?i(e):e[o]}},e}(),d={tagName:function(e){return e.tagName.toLowerCase()},visible:a.positionUtils.isElementVisible,focused:function(e){return a.domUtils.getActiveElement()===e},attributes:function(e){for(var t=(0,u.getAttrs)(e),r={},n=t.length-1;n>=0;n--)r[t[n].name]=t[n].value;return r},boundingClientRect:function(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width,height:t.height}},classNames:function(e){var t=(0,u.getClassName)(e);return t="string"==typeof t.animVal?t.animVal:t,t.replace(/^\s+|\s+$/g,"").split(/\s+/g)},style:function(e){for(var t={},r=window.getComputedStyle(e),n=0;n<r.length;n++){var o=r[n];t[o]=r[o]}return t},innerText:u.getInnerText};e.ElementSnapshot=function(e){function t(r){i(this,t);var o=n(this,e.call(this,r));return o._initializeProperties(r,s.ELEMENT_SNAPSHOT_PROPERTIES,d),o}return o(t,e),t}(c)},"sandboxed-node-properties.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}function i(e){var t="("+e.toString()+")";return t=(0,s.processScript)(t,!1),(0,l["default"])(t,null)}function a(e){var t=f(e);return t&&t.replace(c,"").replace(d,"").replace(/\r\n/g,"\n")}e.__esModule=!0,e.getClassName=e.getTextContent=e.getChildren=e.getChildNodes=e.getAttrs=void 0,e.getInnerText=a;var s=r("../../../deps/hammerhead"),u=r("../eval-function"),l=n(u),c=new RegExp(o(s.PROCESSING_COMMENTS.scriptStart)+".*?"+o(s.PROCESSING_COMMENTS.scriptEnd),"g"),d=new RegExp(o(s.PROCESSING_COMMENTS.stylesheetStart)+".*?"+o(s.PROCESSING_COMMENTS.stylesheetEnd),"g"),f=(e.getAttrs=i(function(e){return e.attributes}),e.getChildNodes=i(function(e){return e.childNodes}),e.getChildren=i(function(e){return e.children}),e.getTextContent=i(function(e){return e.textContent}),e.getClassName=i(function(e){return e.className}),i(function(e){return e.innerText}))}}},"execute-action.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(!E.domUtils.isEditableElement(e))throw new N.ActionElementNonEditableError}function i(e){if(!E.domUtils.isTextAreaElement(e))throw new N.ActionElementNotTextAreaError}function a(e,t){if(!E.domUtils.isContentEditableElement(e))throw new N.ActionElementNonContentEditableError(t)}function s(e){if(!E.contentEditable.getNearestCommonAncestor(e[0],e[1]))throw new N.ActionRootContainerNotFoundError;return e}function u(e){if(!E.domUtils.isFileInput(e))throw new N.ActionElementIsNotFileInputError}function l(e,t){e.type===b["default"].selectText?o(t[0]):e.type===b["default"].selectTextAreaContent?i(t[0]):e.type===b["default"].selectEditableContent?(a(t[0],"startSelector"),a(t[1],"endSelector"),s(t)):e.type!==b["default"].setFilesToUpload&&e.type!==b["default"].clearUpload||u(t[0])}function c(e,t,r){var n=[],o=m.Promise.resolve(),i=new Date,a=function(e,a,s,u){o=o.then(function(){var n=new C["default"](e,t,i,r,a,s);return n.getResult()}).then(function(e){if(!E.domUtils.isDomElement(e))throw u(E.NODE_TYPE_DESCRIPTIONS[e.nodeType]);n.push(e)})};return e.selector&&a(e.selector,function(){return new N.ActionElementNotFoundError},function(){return new N.ActionElementIsInvisibleError},function(e){return new N.ActionSelectorMatchesWrongNodeTypeError(e)}),e.type===b["default"].dragToElement?a(e.destinationSelector,function(){return new N.ActionAdditionalElementNotFoundError("destinationSelector")},function(){return new N.ActionAdditionalElementIsInvisibleError("destinationSelector")},function(e){return new N.ActionAdditionalSelectorMatchesWrongNodeTypeError("destinationSelector",e)}):e.type===b["default"].selectEditableContent&&(a(e.startSelector,function(){return new N.ActionAdditionalElementNotFoundError("startSelector")},function(){return new N.ActionAdditionalElementIsInvisibleError("startSelector")},function(e){return new N.ActionAdditionalSelectorMatchesWrongNodeTypeError("startSelector",e)}),a(e.endSelector||e.startSelector,function(){return new N.ActionAdditionalElementNotFoundError("endSelector")},function(){return new N.ActionAdditionalElementIsInvisibleError("endSelector")},function(e){return new N.ActionAdditionalSelectorMatchesWrongNodeTypeError("endSelector",e)})),o.then(function(){return l(e,n),n})}function d(e){if(e.type===b["default"].pressKey){var t=(0,E.parseKeySequence)(e.keys);if(t.error)throw new N.ActionIncorrectKeysError("keys")}}function f(e,t){var r=(0,y.getOffsetOptions)(e,t.offsetX,t.offsetY),n=r.offsetX,o=r.offsetY;t.offsetX=n,t.offsetY=o}function h(e,t){var r=null;switch(t.options&&"offsetX"in t.options&&"offsetY"in t.options&&f(e[0],t.options),t.type){case b["default"].click:return new y.Click(e[0],t.options);case b["default"].rightClick:return new y.RClick(e[0],t.options);case b["default"].doubleClick:return new y.DblClick(e[0],t.options);case b["default"].hover:return new y.Hover(e[0],t.options);case b["default"].drag:return new y.DragToOffset(e[0],t.dragOffsetX,t.dragOffsetY,t.options);case b["default"].dragToElement:return new y.DragToElement(e[0],e[1],t.options);case b["default"].typeText:return new y.Type(e[0],t.text,t.options);case b["default"].selectText:case b["default"].selectTextAreaContent:return r=(0,y.calculateSelectTextArguments)(e[0],t),new y.SelectText(e[0],r.startPos,r.endPos);case b["default"].selectEditableContent:return new y.SelectEditableContent(e[0],e[1]);case b["default"].pressKey:return new y.Press((0,E.parseKeySequence)(t.keys).combinations);case b["default"].setFilesToUpload:return new y.Upload(e[0],t.filePath,function(e){return new N.ActionCanNotFindFileToUploadError(e)});case b["default"].clearUpload:return new y.Upload(e[0])}return null}function p(e,t,r,n){var o=null,i=new m.Promise(function(e){o=e}),a=function(){return 1===n?m.Promise.resolve():(0,E.delay)((1-n)*x)},s=new m.Promise(function(n){var i=null,s=null;c(e,t,r).then(function(t){return o(),i=new E.RequestBarrier,s=new v["default"],d(e),E.pageUnloadBarrier.watchForPageNavigationTriggers(),h(t,e).run()}).then(function(){return m.Promise.all([a(),i.wait().then(function(){return s.wait()}),E.pageUnloadBarrier.wait()])}).then(function(){return n(new _["default"]({isCommandResult:!0}))})["catch"](function(e){var t=e.message===y.ERROR_TYPES.elementIsInvisibleError?new N.ActionElementIsInvisibleError:e;return n(new _["default"]({isCommandResult:!0,executionError:t}))})});return{startPromise:i,completionPromise:s}}e.__esModule=!0,e["default"]=p;var m=r("../deps/hammerhead"),E=r("../deps/testcafe-core"),g=r("../script-execution-barrier"),v=n(g),y=r("../deps/testcafe-automation"),w=r("../status"),_=n(w),I=r("./client-functions/selector-executor"),C=n(I),S=r("../../../test-run/commands/type"),b=n(S),N=r("../../../errors/test-run"),x=2e3;t.exports=e["default"]},"execute-navigate-to.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=new f;return a["default"].navigateTo(e.url),d.all([t.wait(),h.wait()]).then(function(){return new c["default"]({isCommandResult:!0})})["catch"](function(e){return new c["default"]({isCommandResult:!0,executionError:e})})}e.__esModule=!0,e["default"]=o;var i=r("../deps/hammerhead"),a=n(i),s=r("../deps/testcafe-core"),u=n(s),l=r("../status"),c=n(l),d=a["default"].Promise,f=u["default"].RequestBarrier,h=u["default"].pageUnloadBarrier;t.exports=e["default"]},"prepare-browser-manipulation.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=document.title,r="[ "+e+" ]",n=null,o=null;return n=h.setInterval.call(window,function(){document.title!==r&&(t=document.title,document.title=r)},E),document.title=r,m(g).then(function(){var e={cmd:c["default"].readyForBrowserManipulation,innerWidth:window.innerWidth,innerHeight:window.innerHeight,disableResending:!0};return p.queuedAsyncServiceMsg(e)}).then(function(e){return o=e,h.clearInterval.call(window,n),document.title=t,m(v)}).then(function(){return new f["default"]({isCommandResult:!0,result:o})})}e.__esModule=!0,e["default"]=o;var i=r("../deps/hammerhead"),a=n(i),s=r("../deps/testcafe-core"),u=n(s),l=r("../../../test-run/client-messages"),c=n(l),d=r("../status"),f=n(d),h=a["default"].nativeMethods,p=a["default"].transport,m=u["default"].delay,E=50,g=500,v=100;t.exports=e["default"]}},deps:{"hammerhead.js":function(e,t,r){e.__esModule=!0,e["default"]=window["%hammerhead%"],t.exports=e["default"]},"testcafe-automation.js":function(e,t,r){e.__esModule=!0,e["default"]=window["%testCafeAutomation%"],t.exports=e["default"]},"testcafe-core.js":function(e,t,r){e.__esModule=!0,e["default"]=window["%testCafeCore%"],t.exports=e["default"]},"testcafe-ui.js":function(e,t,r){e.__esModule=!0,e["default"]=window["%testCafeUI%"],t.exports=e["default"]}},"driver-link":{"child.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r("../deps/hammerhead"),a=r("../deps/testcafe-core"),s=r("../../../errors/test-run"),u=r("./send-message-to-driver"),l=n(u),c=r("./messages"),d=r("../status"),f=n(d),h=1e3,p=200,m=500,E=function(){function e(t,r,n){o(this,e),this.driverWindow=t,this.driverIframe=a.domUtils.findIframeByWindow(t),this.driverId=r,this.iframeAvailabilityTimeout=n}return e.prototype._ensureIframe=function(){var e=this;return a.domUtils.isElementInDocument(this.driverIframe)?(0,a.waitFor)(function(){return a.positionUtils.isElementVisible(e.driverIframe)?e.driverIframe:null},p,this.iframeAvailabilityTimeout)["catch"](function(){throw new s.CurrentIframeIsInvisibleError}):i.Promise.reject(new s.CurrentIframeNotFoundError)},e.prototype._waitForIframeRemovedOrHidden=function(){var e=this;return new i.Promise(function(t){e.checkIframeInterval=i.nativeMethods.setInterval.call(window,function(){e._ensureIframe()["catch"](function(){return(0,a.delay)(m).then(function(){return t(new f["default"]({isCommandResult:!0}))})})},h)})},e.prototype._waitForCommandResult=function(){var e=this,t=null,r=function(){return new i.Promise(function(e){t=function(t){t.message.type===c.TYPE.commandExecuted&&e(t.message.driverStatus)},i.eventSandbox.message.on(i.eventSandbox.message.SERVICE_MSG_RECEIVED_EVENT,t)})};return i.Promise.race([this._waitForIframeRemovedOrHidden(),r()]).then(function(r){return i.eventSandbox.message.off(i.eventSandbox.message.SERVICE_MSG_RECEIVED_EVENT,t),i.nativeMethods.clearInterval.call(window,e.checkIframeInterval),r})},e.prototype.confirmConnectionEstablished=function(e){var t=new c.ConfirmationMessage(e,{id:this.driverId});i.eventSandbox.message.sendServiceMsg(t,this.driverWindow)},e.prototype.executeCommand=function(e){var t=this;return this._ensureIframe().then(function(){var r=new c.ExecuteCommandMessage(e);return i.Promise.all([(0,l["default"])(r,t.driverWindow,t.timeout,s.CurrentIframeIsNotLoadedError),t._waitForCommandResult()])}).then(function(e){return e[1]})},e}();e["default"]=E,t.exports=e["default"]},"messages.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.SetNativeDialogHandlerMessage=e.ConfirmationMessage=e.ExecuteCommandMessage=e.CommandExecutedMessage=e.EstablishConnectionMessage=e.TYPE=void 0;var s=r("../generate-id"),u=n(s),l=e.TYPE={establishConnection:"driver|establish-connection",commandExecuted:"driver|command-executed",executeCommand:"driver|execute-command",confirmation:"driver|confirmation",setNativeDialogHandler:"driver|set-native-dialog-handler"},c=function d(e){a(this,d),this.type=e,this.id=(0,u["default"])()};e.EstablishConnectionMessage=function(e){function t(){return a(this,t),o(this,e.call(this,l.establishConnection))}return i(t,e),t}(c),e.CommandExecutedMessage=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l.commandExecuted));return n.driverStatus=r,n}return i(t,e),t}(c),e.ExecuteCommandMessage=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l.executeCommand));return n.command=r,n}return i(t,e),t}(c),e.ConfirmationMessage=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l.confirmation));return i.requestMessageId=r,i.result=n,i}return i(t,e),t}(c),e.SetNativeDialogHandlerMessage=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l.setNativeDialogHandler));return n.dialogHandler=r,n}return i(t,e),t}(c)},"parent.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r("../deps/hammerhead"),a=r("./messages"),s=r("../../../errors/test-run"),u=r("./send-message-to-driver"),l=n(u),c=5e3,d=function(){function e(t){o(this,e),this.driverWindow=t}return e.prototype.establishConnection=function(){var e=new a.EstablishConnectionMessage;return(0,l["default"])(e,this.driverWindow,c,s.CurrentIframeIsNotLoadedError).then(function(e){return e.result.id})},e.prototype.confirmMessageReceived=function(e){var t=new a.ConfirmationMessage(e);i.eventSandbox.message.sendServiceMsg(t,this.driverWindow)},e.prototype.onCommandExecuted=function(e){var t=new a.CommandExecutedMessage(e);i.eventSandbox.message.sendServiceMsg(t,this.driverWindow)},e}();e["default"]=d,t.exports=e["default"]},"send-message-to-driver.js":function(e,t,r){function n(e,t,r,n){var l=null,c=null,d=null;r=Math.max(r||0,s);var f=function(){return new o.Promise(function(r){d=function(t){t.message.type===a.TYPE.confirmation&&t.message.requestMessageId===e.id&&r(t.message)},o.eventSandbox.message.on(o.eventSandbox.message.SERVICE_MSG_RECEIVED_EVENT,d),l=o.nativeMethods.setInterval.call(window,function(){
return o.eventSandbox.message.sendServiceMsg(e,t)},u),o.eventSandbox.message.sendServiceMsg(e,t)})};return o.Promise.race([(0,i.delay)(r),f()]).then(function(e){if(o.nativeMethods.clearInterval.call(window,l),o.nativeMethods.clearTimeout.call(window,c),o.eventSandbox.message.off(o.eventSandbox.message.SERVICE_MSG_RECEIVED_EVENT,d),!e)throw new n;return e})}e.__esModule=!0,e["default"]=n;var o=r("../deps/hammerhead"),i=r("../deps/testcafe-core"),a=r("./messages"),s=2500,u=1e3;t.exports=e["default"]}},"driver.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r("./deps/hammerhead"),a=n(i),s=r("./deps/testcafe-core"),u=r("./deps/testcafe-ui"),l=r("../../test-run/client-messages"),c=n(l),d=r("../../test-run/commands/type"),f=n(d),h=r("../../test-run/commands/utils"),p=r("../../errors/test-run"),m=r("./native-dialog-tracker"),E=n(m),g=r("./driver-link/messages"),v=r("./storage"),y=n(v),w=r("./status"),_=n(w),I=r("./generate-id"),C=n(I),S=r("./driver-link/child"),b=n(S),N=r("./command-executors/prepare-browser-manipulation"),x=n(N),T=r("./command-executors/execute-action"),A=n(T),M=r("./command-executors/execute-navigate-to"),D=n(M),O=r("./command-executors/client-functions/client-function-executor"),R=n(O),F=r("./command-executors/client-functions/selector-executor"),P=n(F),U=a["default"].transport,j=a["default"].Promise,k=a["default"].eventSandbox.message,L="testcafe|driver|test-done-sent-flag",H="testcafe|driver|pending-status",W="testcafe|driver|executing-client-function-descriptor",B="testcafe|driver|selector-execution-start-time",G="testcafe|driver|pending-page-error",V="testcafe|driver|active-iframe-selector",z=500,X={NotLoadedError:p.ActionIframeIsNotLoadedError,NotFoundError:p.ActionElementNotFoundError,IsInvisibleError:p.ActionElementIsInvisibleError},q={NotLoadedError:p.CurrentIframeIsNotLoadedError,NotFoundError:p.CurrentIframeNotFoundError,IsInvisibleError:p.CurrentIframeIsInvisibleError},K=function(){function e(t,r,n,i){var u=this;o(this,e),this.COMMAND_EXECUTING_FLAG="testcafe|driver|command-executing-flag",this.EXECUTING_IN_IFRAME_FLAG="testcafe|driver|executing-in-iframe-flag",this.testRunId=t.testRun,this.browserId=t.browser,this.heartbeatUrl=r.heartbeat,this.browserStatusUrl=r.status,this.userAgent=n.userAgent,this.fixtureName=n.fixtureName,this.testName=n.testName,this.selectorTimeout=i.selectorTimeout,this.speed=i.speed,this.skipJsErrors=i.skipJsErrors,this.dialogHandler=i.dialogHandler,this.contextStorage=null,this.nativeDialogsTracker=null,this.childDriverLinks=[],this.activeChildDriverLink=null,this.statusBar=null,this.pageInitialRequestBarrier=new s.RequestBarrier,this.readyPromise=s.eventUtils.documentReady().then(function(){return u.pageInitialRequestBarrier.wait(!0)}),this._initChildDriverListening(),s.pageUnloadBarrier.init(),(0,s.preventRealEvents)(),a["default"].on(a["default"].EVENTS.uncaughtJsError,function(e){return u._onJsError(e)})}return e.prototype._onJsError=function(e){if(this.skipJsErrors||this.contextStorage.getItem(L))return j.resolve();var t=new p.UncaughtErrorOnPage(e.msg||e.message,e.pageUrl);return this.contextStorage.getItem(G)||this.contextStorage.setItem(G,t),null},e.prototype._failIfClientCodeExecutionIsInterrupted=function(){var e=this.contextStorage.getItem(W);return!!e&&(this._onReady(new _["default"]({isCommandResult:!0,executionError:new p.ClientFunctionExecutionInterruptionError(e.instantiationCallsiteName)})),!0)},e.prototype._addPendingErrorToStatus=function(e){var t=this.contextStorage.getItem(G);t&&(this.contextStorage.setItem(G,null),e.pageError=t)},e.prototype._addUnexpectedDialogErrorToStatus=function(e){var t=this.nativeDialogsTracker.getUnexpectedDialogError();e.pageError=e.pageError||t},e.prototype._sendStatus=function(e){var t=this;e.resent||(this._addPendingErrorToStatus(e),this._addUnexpectedDialogErrorToStatus(e)),this.contextStorage.setItem(H,e);var r=null;return s.pageUnloadBarrier.wait(0).then(function(){return U.queuedAsyncServiceMsg({cmd:c["default"].ready,status:e,disableResending:!0})}).then(function(e){return r=e,s.pageUnloadBarrier.wait(0)}).then(function(){return t.contextStorage.setItem(H,null),r})},e.prototype._initChildDriverListening=function(){var e=this;k.on(k.SERVICE_MSG_RECEIVED_EVENT,function(t){var r=t.message,n=t.source;if(r.type===g.TYPE.establishConnection){var o=e._getChildDriverLinkByWindow(n);if(!o){var i=e.testRunId+"-"+(0,C["default"])();o=new b["default"](n,i),e.childDriverLinks.push(o)}o.confirmConnectionEstablished(r.id)}})},e.prototype._getChildDriverLinkByWindow=function(e){return this.childDriverLinks.filter(function(t){return t.driverWindow===e})[0]},e.prototype._runInActiveIframe=function(e){var t=this,r=j.resolve(),n=this.contextStorage.getItem(V);!this.activeChildDriverLink&&n&&(r=this._switchToIframe(n,q)),r.then(function(){return t.contextStorage.setItem(t.EXECUTING_IN_IFRAME_FLAG,!0),t.activeChildDriverLink.executeCommand(e)}).then(function(e){return t._onCommandExecutedInIframe(e)})["catch"](function(e){return t._onCommandExecutedInIframe(new _["default"]({isCommandResult:!0,executionError:e}))})},e.prototype._onCommandExecutedInIframe=function(e){this.contextStorage.setItem(this.EXECUTING_IN_IFRAME_FLAG,!1),this._onReady(e)},e.prototype._ensureChildDriverLink=function(e,t){var r=this;return(0,s.waitFor)(function(){return r._getChildDriverLinkByWindow(e)},z,this.selectorTimeout)["catch"](function(){throw new t})},e.prototype._switchToIframe=function(e,t){var r=this,n=new P["default"](e,this.selectorTimeout,null,this.statusBar,function(){return new t.NotFoundError},function(){return t.IsInvisibleError()});return n.getResult().then(function(e){if(!s.domUtils.isIframeElement(e))throw new p.ActionElementNotIframeError;return r._ensureChildDriverLink(e.contentWindow,t.NotLoadedError)}).then(function(t){r.activeChildDriverLink=t,r.contextStorage.setItem(V,e)})},e.prototype._switchToMainWindow=function(e){this.activeChildDriverLink&&this.activeChildDriverLink.executeCommand(e),this.contextStorage.setItem(V,null),this.activeChildDriverLink=null},e.prototype._setNativeDialogHandlerInIframes=function(e){for(var t=new g.SetNativeDialogHandlerMessage(e),r=0;r<this.childDriverLinks.length;r++)k.sendServiceMsg(t,this.childDriverLinks[r].driverWindow)},e.prototype._onActionCommand=function(e){var t=this,r=(0,A["default"])(e,this.selectorTimeout,this.statusBar,this.speed),n=r.startPromise,o=r.completionPromise;n.then(function(){return t.contextStorage.setItem(t.COMMAND_EXECUTING_FLAG,!0)}),o.then(function(e){return t.contextStorage.setItem(t.COMMAND_EXECUTING_FLAG,!1),t._onReady(e)})},e.prototype._onSetNativeDialogHandlerCommand=function(e){this.nativeDialogsTracker.setHandler(e.dialogHandler),this._setNativeDialogHandlerInIframes(e.dialogHandler),this._onReady(new _["default"]({isCommandResult:!0}))},e.prototype._onGetNativeDialogHistoryCommand=function(){this._onReady(new _["default"]({isCommandResult:!0,result:this.nativeDialogsTracker.appearedDialogs}))},e.prototype._onNavigateToCommand=function(e){var t=this;this.contextStorage.setItem(this.COMMAND_EXECUTING_FLAG,!0),(0,D["default"])(e).then(function(e){return t.contextStorage.setItem(t.COMMAND_EXECUTING_FLAG,!1),t._onReady(e)})},e.prototype._onExecuteClientFunctionCommand=function(e){var t=this;this.contextStorage.setItem(W,{instantiationCallsiteName:e.instantiationCallsiteName});var r=new R["default"](e);r.getResultDriverStatus().then(function(e){t.contextStorage.setItem(W,null),t._onReady(e)})},e.prototype._onExecuteSelectorCommand=function(e){var t=this,r=this.contextStorage.getItem(B)||new Date,n=new P["default"](e,this.selectorTimeout,r,this.statusBar,null,null);n.getResultDriverStatus().then(function(e){t.contextStorage.setItem(B,null),t._onReady(e)})},e.prototype._onSwitchToMainWindowCommand=function(e){this._switchToMainWindow(e),this._onReady(new _["default"]({isCommandResult:!0}))},e.prototype._onSwitchToIframeCommand=function(e){var t=this;this._switchToIframe(e.selector,X).then(function(){return t._onReady(new _["default"]({isCommandResult:!0}))})["catch"](function(e){return t._onReady(new _["default"]({isCommandResult:!0,executionError:e}))})},e.prototype._onPrepareBrowserManipulationCommand=function(){var e=this;this.contextStorage.setItem(this.COMMAND_EXECUTING_FLAG,!0),(0,x["default"])(this.browserId).then(function(t){return e.contextStorage.setItem(e.COMMAND_EXECUTING_FLAG,!1),e._onReady(t)})},e.prototype._onTestDone=function(e){var t=this;this.contextStorage.setItem(L,!0),this._sendStatus(e).then(function(){return s.browser.checkStatus(t.browserStatusUrl,a["default"].createNativeXHR)})},e.prototype._onReady=function(e){var t=this;this._sendStatus(e).then(function(e){e?t._onCommand(e):t._onReady(new _["default"])})},e.prototype._executeCommand=function(e){e.type===f["default"].testDone?this._onTestDone(new _["default"]({isCommandResult:!0})):e.type===f["default"].prepareBrowserManipulation?this._onPrepareBrowserManipulationCommand():e.type===f["default"].switchToMainWindow?this._onSwitchToMainWindowCommand(e):e.type===f["default"].switchToIframe?this._onSwitchToIframeCommand(e):e.type===f["default"].executeClientFunction?this._onExecuteClientFunctionCommand(e):e.type===f["default"].executeSelector?this._onExecuteSelectorCommand(e):e.type===f["default"].navigateTo?this._onNavigateToCommand(e):e.type===f["default"].setNativeDialogHandler?this._onSetNativeDialogHandlerCommand(e):e.type===f["default"].getNativeDialogHistory?this._onGetNativeDialogHistoryCommand(e):this._onActionCommand(e)},e.prototype._onCommand=function(e){var t=this;this.readyPromise.then(function(){var r=(0,h.isCommandRejectableByPageError)(e),n=t.contextStorage.getItem(G);if(n&&r)return void t._onReady(new _["default"]({isCommandResult:!0}));var o=t.activeChildDriverLink||t.contextStorage.getItem(V);return!(0,h.isExecutableInTopWindowOnly)(e)&&o?void t._runInActiveIframe(e):void t._executeCommand(e)})},e.prototype.start=function(){var e=this;this.contextStorage=new y["default"](window,this.testRunId),this.nativeDialogsTracker=new E["default"](this.contextStorage,this.dialogHandler),s.browser.startHeartbeat(this.heartbeatUrl,a["default"].createNativeXHR),this.statusBar=new u.StatusBar(this.userAgent,this.fixtureName,this.testName),this.readyPromise.then(function(){return e.statusBar.resetPageLoadingStatus()});var t=this.contextStorage.getItem(H);if(t&&(t.resent=!0),this.contextStorage.getItem(L))return void(t?this._onTestDone(t):s.browser.checkStatus(this.browserStatusUrl,a["default"].createNativeXHR));if(!this._failIfClientCodeExecutionIsInterrupted()){var r=this.contextStorage.getItem(this.COMMAND_EXECUTING_FLAG)||this.contextStorage.getItem(this.EXECUTING_IN_IFRAME_FLAG),n=t||new _["default"]({isCommandResult:r});this.contextStorage.setItem(this.COMMAND_EXECUTING_FLAG,!1),this.contextStorage.setItem(this.EXECUTING_IN_IFRAME_FLAG,!1),this._onReady(n)}},e}();e["default"]=K,t.exports=e["default"]},"generate-id.js":function(e,t,r){e.__esModule=!0,e["default"]=function(){return"function"==typeof n.nativeMethods.performanceNow?n.nativeMethods.performanceNow().toString():(n.nativeMethods.dateNow()+Math.random()).toString()};var n=r("./deps/hammerhead");t.exports=e["default"]},"iframe-driver.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var s=r("./deps/hammerhead"),u=r("./deps/testcafe-core"),l=r("./deps/testcafe-ui"),c=r("./driver"),d=n(c),f=r("./storage"),h=n(f),p=r("./status"),m=n(p),E=r("./driver-link/parent"),g=n(E),v=r("./driver-link/messages"),y=r("./native-dialog-tracker/iframe"),w=n(y),_=function(e){function t(r,n){o(this,t);var a=i(this,e.call(this,r,{},{},n));return a.lastParentDriverMessageId=null,a.parentDriverLink=new g["default"](window.parent),a._initParentDriverListening(),a}return a(t,e),t.prototype._onJsError=function(){},t.prototype._initParentDriverListening=function(){var e=this;s.eventSandbox.message.on(s.eventSandbox.message.SERVICE_MSG_RECEIVED_EVENT,function(t){var r=t.message;u.pageUnloadBarrier.wait(0).then(function(){if(r.type===v.TYPE.executeCommand){if(e.lastParentDriverMessageId===r.id)return;e.lastParentDriverMessageId=r.id,e.parentDriverLink.confirmMessageReceived(r.id),e._onCommand(r.command)}r.type===v.TYPE.setNativeDialogHandler&&(e.nativeDialogsTracker.setHandler(r.dialogHandler),e._setNativeDialogHandlerInIframes(r.dialogHandler))})})},t.prototype._onSwitchToMainWindowCommand=function(e){this._switchToMainWindow(e)},t.prototype._onReady=function(e){this.parentDriverLink.onCommandExecuted(e)},t.prototype.start=function(){var e=this;this.nativeDialogsTracker=new w["default"](this.dialogHandler),this.statusBar=new l.IframeStatusBar;var t=this.parentDriverLink.establishConnection().then(function(t){if(e.contextStorage=new h["default"](window,t),!e._failIfClientCodeExecutionIsInterrupted()){var r=e.contextStorage.getItem(e.COMMAND_EXECUTING_FLAG)||e.contextStorage.getItem(e.EXECUTING_IN_IFRAME_FLAG);r&&(e.contextStorage.setItem(e.COMMAND_EXECUTING_FLAG,!1),e.contextStorage.setItem(e.EXECUTING_IN_IFRAME_FLAG,!1),e._onReady(new m["default"]({isCommandResult:!0})))}});this.readyPromise=s.Promise.all([this.readyPromise,t])},t}(d["default"]);e["default"]=_,t.exports=e["default"]},"index.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r("./deps/hammerhead"),i=n(o),a=r("./driver"),s=n(a),u=r("./iframe-driver"),l=n(u),c=r("./script-execution-barrier"),d=n(c);Object.defineProperty(window,"%testCafeDriver%",{enumerable:!1,configurable:!1,writable:!1,value:s["default"]}),Object.defineProperty(window,"%testCafeIframeDriver%",{enumerable:!1,configurable:!1,writable:!1,value:l["default"]}),Object.defineProperty(window,"%ScriptExecutionBarrier%",{enumerable:!1,configurable:!1,writable:!1,value:d["default"]}),i["default"].on(i["default"].EVENTS.evalIframeScript,function(e){return initTestCafeClientDrivers(e.iframe.contentWindow,!0)})},"native-dialog-tracker":{"iframe.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var s=r("../deps/hammerhead"),u=n(s),l=r("./messages"),c=n(l),d=r("./index"),f=n(d),h=u["default"].eventSandbox.message,p=function(e){function t(r){return o(this,t),i(this,e.call(this,null,r))}return a(t,e),t.prototype._defaultDialogHandler=function(e){h.sendServiceMsg({type:c["default"].unexpectedDialog,dialogType:e,url:f["default"]._getPageUrl()},window.top)},t.prototype._addAppearedDialogs=function(e,t){h.sendServiceMsg({type:c["default"].appearedDialog,dialogType:e,text:t,url:f["default"]._getPageUrl()},window.top)},t.prototype._onHandlerError=function(e,t){h.sendServiceMsg({type:c["default"].handlerError,dialogType:e,message:t,url:f["default"]._getPageUrl()},window.top)},t}(f["default"]);e["default"]=p,t.exports=e["default"]},"index.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r("../deps/hammerhead"),s=n(a),u=r("../../../errors/test-run"),l=r("../command-executors/client-functions/client-function-executor"),c=n(l),d=r("./messages"),f=n(d),h=s["default"].eventSandbox.message,p=s["default"].processScript,m=s["default"].nativeMethods,E="testcafe|native-dialog-tracker|appeared-dialogs",g="testcafe|native-dialog-tracker|unexpected-dialog",v="testcafe|native-dialog-tracker|error-in-handler",y=p("window.location.href"),w=function(){function e(t,r){o(this,e),this.contextStorage=t,this.dialogHandler=r,this._init(),this._initListening(),this.dialogHandler&&this.setHandler(r)}return e._getPageUrl=function(){return m.eval(y)},e.prototype._initListening=function(){var e=this;h.on(h.SERVICE_MSG_RECEIVED_EVENT,function(t){var r=t.message;r.type===f["default"].appearedDialog?e._addAppearedDialogs(r.dialogType,r.text,r.url):r.type!==f["default"].unexpectedDialog||e.unexpectedDialog?r.type!==f["default"].handlerError||e.handlerError||e._onHandlerError(r.dialogType,r.message,r.url):e.unexpectedDialog={type:r.dialogType,url:r.url}})},e.prototype._init=function(){var e=this;s["default"].on(s["default"].EVENTS.beforeUnload,function(t){if(t.prevented&&!t.isFakeIEEvent)if(e.dialogHandler){var r=e._createDialogHandler("beforeunload");r(t.returnValue||"")}else e._defaultDialogHandler("beforeunload");e.contextStorage&&e.contextStorage.save()}),window.alert=function(){return e._defaultDialogHandler("alert")},window.confirm=function(){return e._defaultDialogHandler("confirm")},window.prompt=function(){return e._defaultDialogHandler("prompt")}},e.prototype._createDialogHandler=function(t){var r=this;return function(n){var o=e._getPageUrl();r._addAppearedDialogs(t,n,o);var i=new c["default"](r.dialogHandler),a=null;try{a=i.fn.apply(window,[t,n,o])}catch(s){r._onHandlerError(t,s.message||String(s),o)}return a}},e.prototype._defaultDialogHandler=function(t){var r=e._getPageUrl();this.unexpectedDialog=this.unexpectedDialog||{type:t,url:r}},e.prototype._addAppearedDialogs=function(e,t,r){this.appearedDialogs.splice(0,0,{type:e,text:t,url:r})},e.prototype._onHandlerError=function(e,t,r){this.handlerError=this.handlerError||{type:e,message:t,url:r}},e.prototype.setHandler=function(e){this.dialogHandler=e,window.alert=this._createDialogHandler("alert"),window.confirm=this._createDialogHandler("confirm"),window.prompt=this._createDialogHandler("prompt")},e.prototype.getUnexpectedDialogError=function(){var e=this.unexpectedDialog,t=this.handlerError;return this.unexpectedDialog=null,this.handlerError=null,e?new u.NativeDialogNotHandledError(e.type,e.url):t?new u.UncaughtErrorInNativeDialogHandler(t.type,t.message,t.url):null},i(e,[{key:"appearedDialogs",get:function(){var e=this.contextStorage.getItem(E);return e||(e=[],this.appearedDialogs=e),e},set:function(e){this.contextStorage.setItem(E,e)}},{key:"unexpectedDialog",get:function(){return this.contextStorage.getItem(g)},set:function(e){this.contextStorage.setItem(g,e)}},{key:"handlerError",get:function(){return this.contextStorage.getItem(v)},set:function(e){this.contextStorage.setItem(v,e)}}]),e}();e["default"]=w,t.exports=e["default"]},"messages.js":function(e,t,r){e.__esModule=!0,e["default"]={appearedDialog:"appeared-dialog",unexpectedDialog:"unexpected-dialog",handlerError:"handler-error"},t.exports=e["default"]}},"script-execution-barrier.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r("./deps/hammerhead"),a=n(i),s=r("./deps/testcafe-core"),u=a["default"].Promise,l=a["default"].nativeMethods,c=25,d=function(){function e(){var t=this;o(this,e),this.watchdog=null,this.SCRIPT_LOADING_TIMEOUT=2e3,this.BARRIER_TIMEOUT=3e3,this.scriptsCount=0,this.resolveWaitingPromise=null,this.scriptElementAddedHandler=function(e){return t._onScriptElementAdded(e.el)},a["default"].on(a["default"].EVENTS.scriptElementAdded,this.scriptElementAddedHandler)}return e.prototype._onScriptElementAdded=function(e){var t=this;if(void 0!==e.src&&""!==e.src){this.scriptsCount++;var r=null,n=function o(){l.removeEventListener.call(e,"load",o),l.removeEventListener.call(e,"error",o),l.clearTimeout.call(window,r),t._onScriptLoadedOrFailed()};l.addEventListener.call(e,"load",n),l.addEventListener.call(e,"error",n),r=l.setTimeout.call(window,n,this.SCRIPT_LOADING_TIMEOUT)}},e.prototype._onScriptLoadedOrFailed=function(){var e=this;this.scriptsCount--,this.scriptsCount||(0,s.delay)(c).then(function(){e.resolveWaitingPromise&&(e.scriptsCount||e.resolveWaitingPromise())})},e.prototype.wait=function(){var e=this;return new u(function(t){var r=function(){l.clearTimeout.call(window,e.watchdog),a["default"].off(a["default"].EVENTS.scriptElementAdded,e.scriptElementAddedHandler),e.watchdog=null,e.resolveWaitingPromise=null,t()};e.scriptsCount?(e.watchdog=l.setTimeout.call(window,function(){return r()},e.BARRIER_TIMEOUT),e.resolveWaitingPromise=function(){return r()}):r()})},e}();e["default"]=d,t.exports=e["default"]},"status.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var s=r("../../utils/assignable"),u=n(s),l=r("./generate-id"),c=n(l),d=function(e){function t(r){o(this,t);var n=i(this,e.call(this,r));return n.id=(0,c["default"])(),n.isCommandResult=!1,n.executionError=null,n.pageError=null,n.resent=!1,n.result=null,n._assignFrom(r,!0),n}return a(t,e),t.prototype._getAssignableProperties=function(){return[{name:"isCommandResult"},{name:"executionError"},{name:"pageError"},{name:"result"}]},t}(u["default"]);e["default"]=d,t.exports=e["default"]},"storage.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=r("./deps/hammerhead"),a=n(i),s=a["default"].json,u="testcafe|driver|",l=function(){function e(t,r){o(this,e),this.storage=t.sessionStorage,this.storageKey=u+r,this.data={},this._loadFromStorage()}return e.prototype._loadFromStorage=function(){var e=this.storage.getItem(this.storageKey);e&&(this.data=s.parse(e),this.storage.removeItem(this.storageKey))},e.prototype.save=function(){this.storage.setItem(this.storageKey,s.stringify(this.data))},e.prototype.setItem=function(e,t){this.data[e]=t,this.save()},e.prototype.getItem=function(e){return this.data[e]},e.prototype.dispose=function(){this.storage.removeItem(this.storageKey)},e}();e["default"]=l,t.exports=e["default"]}}},"client-functions":{"selector-builder":{"snapshot-properties.js":function(e,t,r){e.__esModule=!0;e.NODE_SNAPSHOT_PROPERTIES=["nodeType","textContent","childNodeCount","hasChildNodes","childElementCount","hasChildElements"],e.ELEMENT_SNAPSHOT_PROPERTIES=["tagName","visible","focused","attributes","boundingClientRect","classNames","style","innerText","namespaceURI","id","value","checked","selected","selectedIndex","scrollWidth","scrollHeight","scrollLeft","scrollTop","offsetWidth","offsetHeight","offsetLeft","offsetTop","clientWidth","clientHeight","clientLeft","clientTop"]}}},errors:{"test-run":{"index.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.WindowDimensionsOverflowError=e.SetNativeDialogHandlerCodeWrongTypeError=e.UncaughtErrorInNativeDialogHandler=e.NativeDialogNotHandledError=e.CurrentIframeIsInvisibleError=e.CurrentIframeNotFoundError=e.CurrentIframeIsNotLoadedError=e.ActionIframeIsNotLoadedError=e.ActionElementNotIframeError=e.ActionElementIsNotFileInputError=e.ActionCanNotFindFileToUploadError=e.ActionIncorrectKeysError=e.ActionRootContainerNotFoundError=e.ActionElementNonContentEditableError=e.ActionElementNotTextAreaError=e.ActionElementNonEditableError=e.ActionAdditionalSelectorMatchesWrongNodeTypeError=e.ActionAdditionalElementIsInvisibleError=e.ActionAdditionalElementNotFoundError=e.ActionSelectorMatchesWrongNodeTypeError=e.ActionElementIsInvisibleError=e.ActionElementNotFoundError=e.ActionSelectorError=e.ActionUnsupportedDeviceTypeError=e.ActionUnsupportedUrlProtocolError=e.ActionStringArrayElementError=e.ActionStringOrStringArrayArgumentError=e.ActionPositiveIntegerArgumentError=e.ActionIntegerArgumentError=e.ActionStringArgumentError=e.ActionOptionsTypeError=e.ActionBooleanOptionError=e.ActionPositiveIntegerOptionError=e.ActionIntegerOptionError=e.ExternalAssertionLibraryError=e.UncaughtErrorInCustomDOMPropertyCode=e.UncaughtErrorInClientFunctionCode=e.UncaughtNonErrorObjectInTestCode=e.UncaughtErrorInTestCode=e.UncaughtErrorOnPage=e.PageLoadError=e.CantObtainInfoForElementSpecifiedBySelectorError=e.InvalidSelectorResultError=e.DomNodeClientFunctionResultError=e.ClientFunctionExecutionInterruptionError=e.MissingAwaitError=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r("./type"),l=n(u),c=function h(e){a(this,h),this.type=e,this.isTestCafeError=!0,this.callsite=null},d=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,r));return s.optionName=n,s.actualValue=i,s}return i(t,e),t}(c),f=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,r));return s.argumentName=n,s.actualValue=i,s}return i(t,e),t}(c);e.MissingAwaitError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].missingAwaitError));return n.callsite=r,n}return i(t,e),t}(c),e.ClientFunctionExecutionInterruptionError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].clientFunctionExecutionInterruptionError));return n.instantiationCallsiteName=r,n}return i(t,e),t}(c),e.DomNodeClientFunctionResultError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].domNodeClientFunctionResultError));return n.instantiationCallsiteName=r,n}return i(t,e),t}(c),e.InvalidSelectorResultError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].invalidSelectorResultError))}return i(t,e),t}(c),e.CantObtainInfoForElementSpecifiedBySelectorError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].cantObtainInfoForElementSpecifiedBySelectorError));return n.callsite=r,n}return i(t,e),t}(c),e.PageLoadError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].pageLoadError));return n.errMsg=r,n}return i(t,e),t}(c),e.UncaughtErrorOnPage=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].uncaughtErrorOnPage));return i.errMsg=r,i.pageDestUrl=n,i}return i(t,e),t}(c),e.UncaughtErrorInTestCode=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].uncaughtErrorInTestCode));return i.errMsg=String(r),i.callsite=n,i}return i(t,e),t}(c),e.UncaughtNonErrorObjectInTestCode=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].uncaughtNonErrorObjectInTestCode));return n.objType="undefined"==typeof r?"undefined":s(r),n.objStr=String(r),n}return i(t,e),t}(c),e.UncaughtErrorInClientFunctionCode=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].uncaughtErrorInClientFunctionCode));return i.errMsg=String(n),i.instantiationCallsiteName=r,i}return i(t,e),t}(c),e.UncaughtErrorInCustomDOMPropertyCode=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,l["default"].uncaughtErrorInCustomDOMPropertyCode,n,i));return s.errMsg=String(n),s.property=i,s.instantiationCallsiteName=r,s}return i(t,e),t}(c),e.ExternalAssertionLibraryError=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].externalAssertionLibraryError));return i.errMsg=String(r),i.callsite=n,i}return i(t,e),t}(c),e.ActionIntegerOptionError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionIntegerOptionError,r,n))}return i(t,e),t}(d),e.ActionPositiveIntegerOptionError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionPositiveIntegerOptionError,r,n))}return i(t,e),t}(d),e.ActionBooleanOptionError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionBooleanOptionError,r,n))}return i(t,e),t}(d),e.ActionOptionsTypeError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].actionOptionsTypeError));return n.actualType=r,n}return i(t,e),t}(c),e.ActionStringArgumentError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionStringArgumentError,r,n))}return i(t,e),t}(f),e.ActionIntegerArgumentError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionIntegerArgumentError,r,n))}return i(t,e),t}(f),e.ActionPositiveIntegerArgumentError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionPositiveIntegerArgumentError,r,n))}return i(t,e),t}(f),e.ActionStringOrStringArrayArgumentError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionStringOrStringArrayArgumentError,r,n))}return i(t,e),t}(f),e.ActionStringArrayElementError=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,l["default"].actionStringArrayElementError,r,n));return s.elementIndex=i,s}return i(t,e),t}(f),e.ActionUnsupportedUrlProtocolError=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].actionUnsupportedUrlProtocolError));return i.argumentName=r,i.protocol=n,i}return i(t,e),t}(c),e.ActionUnsupportedDeviceTypeError=function(e){function t(r,n){return a(this,t),o(this,e.call(this,l["default"].actionUnsupportedDeviceTypeError,r,n))}return i(t,e),t}(f),e.ActionSelectorError=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].actionSelectorError));return i.selectorName=r,i.errMsg=n,i}return i(t,e),t}(c),e.ActionElementNotFoundError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionElementNotFoundError))}return i(t,e),t}(c),e.ActionElementIsInvisibleError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionElementIsInvisibleError))}return i(t,e),t}(c),e.ActionSelectorMatchesWrongNodeTypeError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].actionSelectorMatchesWrongNodeTypeError));return n.nodeDescription=r,n}return i(t,e),t}(c),e.ActionAdditionalElementNotFoundError=function(e){function t(r){a(this,t);
var n=o(this,e.call(this,l["default"].actionAdditionalElementNotFoundError));return n.argumentName=r,n}return i(t,e),t}(c),e.ActionAdditionalElementIsInvisibleError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].actionAdditionalElementIsInvisibleError));return n.argumentName=r,n}return i(t,e),t}(c),e.ActionAdditionalSelectorMatchesWrongNodeTypeError=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].actionAdditionalSelectorMatchesWrongNodeTypeError));return i.argumentName=r,i.nodeDescription=n,i}return i(t,e),t}(c),e.ActionElementNonEditableError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionElementNonEditableError))}return i(t,e),t}(c),e.ActionElementNotTextAreaError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionElementNotTextAreaError))}return i(t,e),t}(c),e.ActionElementNonContentEditableError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].actionElementNonContentEditableError));return n.argumentName=r,n}return i(t,e),t}(c),e.ActionRootContainerNotFoundError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionRootContainerNotFoundError))}return i(t,e),t}(c),e.ActionIncorrectKeysError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].actionIncorrectKeysError));return n.argumentName=r,n}return i(t,e),t}(c),e.ActionCanNotFindFileToUploadError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].actionCanNotFindFileToUploadError));return n.filePaths=r,n}return i(t,e),t}(c),e.ActionElementIsNotFileInputError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionElementIsNotFileInputError))}return i(t,e),t}(c),e.ActionElementNotIframeError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionElementNotIframeError))}return i(t,e),t}(c),e.ActionIframeIsNotLoadedError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].actionIframeIsNotLoadedError))}return i(t,e),t}(c),e.CurrentIframeIsNotLoadedError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].currentIframeIsNotLoadedError))}return i(t,e),t}(c),e.CurrentIframeNotFoundError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].currentIframeNotFoundError))}return i(t,e),t}(c),e.CurrentIframeIsInvisibleError=function(e){function t(){return a(this,t),o(this,e.call(this,l["default"].currentIframeIsInvisibleError))}return i(t,e),t}(c),e.NativeDialogNotHandledError=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,l["default"].nativeDialogNotHandledError));return i.dialogType=r,i.pageUrl=n,i}return i(t,e),t}(c),e.UncaughtErrorInNativeDialogHandler=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,l["default"].uncaughtErrorInNativeDialogHandler));return s.dialogType=r,s.errMsg=n,s.pageUrl=i,s}return i(t,e),t}(c),e.SetNativeDialogHandlerCodeWrongTypeError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].setNativeDialogHandlerCodeWrongTypeError));return n.actualType=r,n}return i(t,e),t}(c),e.WindowDimensionsOverflowError=function(e){function t(r){a(this,t);var n=o(this,e.call(this,l["default"].windowDimensionsOverflowError));return n.callsite=r,n}return i(t,e),t}(c)},"type.js":function(e,t,r){e.__esModule=!0,e["default"]={uncaughtErrorOnPage:"uncaughtErrorOnPage",uncaughtErrorInTestCode:"uncaughtErrorInTestCode",uncaughtNonErrorObjectInTestCode:"uncaughtNonErrorObjectInTestCode",uncaughtErrorInClientFunctionCode:"uncaughtErrorInClientFunctionCode",uncaughtErrorInCustomDOMPropertyCode:"uncaughtErrorInCustomDOMPropertyCode",missingAwaitError:"missingAwaitError",actionIntegerOptionError:"actionIntegerOptionError",actionPositiveIntegerOptionError:"actionPositiveIntegerOptionError",actionBooleanOptionError:"actionBooleanOptionError",actionOptionsTypeError:"actionOptionsTypeError",actionStringArgumentError:"actionStringArgumentError",actionStringOrStringArrayArgumentError:"actionStringOrStringArrayArgumentError",actionStringArrayElementError:"actionStringArrayElementError",actionIntegerArgumentError:"actionIntegerArgumentError",actionPositiveIntegerArgumentError:"actionPositiveIntegerArgumentError",actionSelectorError:"actionSelectorError",actionUnsupportedUrlProtocolError:"actionUnsupportedUrlProtocolError",actionElementNotFoundError:"actionElementNotFoundError",actionElementIsInvisibleError:"actionElementIsInvisibleError",actionSelectorMatchesWrongNodeTypeError:"actionSelectorMatchesWrongNodeTypeError",actionAdditionalElementNotFoundError:"actionAdditionalElementNotFoundError",actionAdditionalElementIsInvisibleError:"actionAdditionalElementIsInvisibleError",actionAdditionalSelectorMatchesWrongNodeTypeError:"actionAdditionalSelectorMatchesWrongNodeTypeError",actionElementNonEditableError:"actionElementNonEditableError",actionElementNotTextAreaError:"actionElementNotTextAreaError",actionElementNonContentEditableError:"actionElementNonContentEditableError",actionElementIsNotFileInputError:"actionElementIsNotFileInputError",actionRootContainerNotFoundError:"actionRootContainerNotFoundError",actionIncorrectKeysError:"actionIncorrectKeysError",actionCanNotFindFileToUploadError:"actionCanNotFindFileToUploadError",actionUnsupportedDeviceTypeError:"actionUnsupportedDeviceTypeError",actionIframeIsNotLoadedError:"actionIframeIsNotLoadedError",actionElementNotIframeError:"actionElementNotIframeError",currentIframeIsNotLoadedError:"currentIframeIsNotLoadedError",currentIframeNotFoundError:"currentIframeNotFoundError",currentIframeIsInvisibleError:"currentIframeIsInvisibleError",nativeDialogNotHandledError:"nativeDialogNotHandledError",uncaughtErrorInNativeDialogHandler:"uncaughtErrorInNativeDialogHandler",setNativeDialogHandlerCodeWrongTypeError:"setNativeDialogHandlerCodeWrongTypeError",clientFunctionExecutionInterruptionError:"clientFunctionExecutionInterruptionError",domNodeClientFunctionResultError:"domNodeClientFunctionResultError",invalidSelectorResultError:"invalidSelectorResultError",cantObtainInfoForElementSpecifiedBySelectorError:"cantObtainInfoForElementSpecifiedBySelectorError",externalAssertionLibraryError:"externalAssertionLibraryError",pageLoadError:"pageLoadError",windowDimensionsOverflowError:"windowDimensionsOverflowError"},t.exports=e["default"]}}},"test-run":{"client-messages.js":function(e,t,r){e.__esModule=!0,e["default"]={ready:"ready",readyForBrowserManipulation:"ready-for-browser-manipulation",waitForFileDownload:"wait-for-file-download"},t.exports=e["default"]},commands:{"type.js":function(e,t,r){e.__esModule=!0,e["default"]={click:"click",rightClick:"right-click",doubleClick:"double-click",drag:"drag",dragToElement:"drag-to-element",hover:"hover",typeText:"type-text",selectText:"select-text",selectTextAreaContent:"select-text-area-content",selectEditableContent:"select-editable-content",pressKey:"press-key",wait:"wait",navigateTo:"navigate-to",setFilesToUpload:"set-files-to-upload",clearUpload:"clear-upload",executeClientFunction:"execute-client-function",executeSelector:"execute-selector",takeScreenshot:"take-screenshot",takeScreenshotOnFail:"take-screenshot-on-fail",prepareBrowserManipulation:"prepare-browser-manipulation",resizeWindow:"resize-window",resizeWindowToFitDevice:"resize-window-to-fit-device",maximizeWindow:"maximize-window",switchToIframe:"switch-to-iframe",switchToMainWindow:"switch-to-main-window",setNativeDialogHandler:"set-native-dialog-handler",getNativeDialogHistory:"get-native-dialog-history",testDone:"test-done"},t.exports=e["default"]},"utils.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return!i(e)&&!s(e)&&!c(e)||u(e)&&!a(e)}function i(e){return e.type===h["default"].executeClientFunction||e.type===h["default"].executeSelector||e.type===h["default"].wait}function a(e){return e.type===h["default"].switchToIframe||e.type===h["default"].switchToMainWindow}function s(e){return e.type===h["default"].takeScreenshot||e.type===h["default"].takeScreenshotOnFail||e.type===h["default"].resizeWindow||e.type===h["default"].resizeWindowToFitDevice}function u(e){return e.type===h["default"].prepareBrowserManipulation&&(e.manipulationCommandType===h["default"].resizeWindow||e.manipulationCommandType===h["default"].resizeWindowToFitDevice)}function l(e){return e.type===h["default"].prepareBrowserManipulation&&e.manipulationCommandType===h["default"].takeScreenshotOnFail}function c(e){return e.type===h["default"].testDone||e.type===h["default"].takeScreenshotOnFail||l(e)}function d(e){return e.type===h["default"].testDone||e.type===h["default"].prepareBrowserManipulation||e.type===h["default"].switchToMainWindow||e.type===h["default"].setNativeDialogHandler||e.type===h["default"].getNativeDialogHistory}e.__esModule=!0,e.isCommandRejectableByPageError=o,e.isBrowserManipulationCommand=s,e.isServiceCommand=c,e.isExecutableInTopWindowOnly=d;var f=r("./type"),h=n(f)}}},utils:{"assignable.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function e(){n(this,e)}return e.prototype._getAssignableProperties=function(){throw new Error("Not implemented")},e.prototype._assignFrom=function(e,t){if(e)for(var r=this._getAssignableProperties(),n=0;n<r.length;n++){for(var o=r[n],i=o.name,a=o.type,s=o.required,u=o.init,l=i.split("."),c=l.length-1,d=l[c],f=e,h=this,p=0;p<c&&f&&h;p++)f=f[l[p]],h=h[l[p]];if(f&&h){var m=f[d];(void 0!==m||s)&&(t&&a&&a(i,m),h[d]=u?u(i,m):m)}}},e}();e["default"]=o,t.exports=e["default"]}}}}})("testcafe/src/client/driver/index")}initTestCafeClientDrivers(window)}();